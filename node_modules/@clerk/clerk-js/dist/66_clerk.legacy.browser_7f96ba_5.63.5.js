"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["66"],{65006:function(e,r,t){t.d(r,{C:()=>C}),t(65223);var i=t(88635),a=t(83799),o=t(69144),n=t(8756),l=t(43064),c=t(97432),s=t(30948),d=t(34229),p=t(96258),m=t(81201),u=t(50043);function g(e){let{plans:r,planPeriod:t,setPlanPeriod:a,onSelect:o,isCompact:n,props:c}=e;return(0,i.tZ)(m.InternalThemeProvider,{children:(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTable,sx:e=>({"--grid-min-size":n?"11.75rem":"20rem","--grid-max-columns":"infinity","--grid-gap":e.space.$4,"--max-column-width":"100% / var(--grid-max-columns, infinity) - var(--grid-gap)","--column-width":"max(var(--max-column-width), min(var(--grid-min-size, 10rem), 100%))",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(var(--column-width), 1fr))",gap:"var(--grid-gap-y, var(--grid-gap, ".concat(e.space.$4,")) var(--grid-gap, ").concat(e.space.$4,")"),alignItems:"stretch",width:"100%",minWidth:"0"}),"data-variant":n?"compact":"default",children:null==r?void 0:r.map(e=>(0,i.tZ)(h,{plan:e,planPeriod:t,setPlanPeriod:a,onSelect:o,props:c,isCompact:n},e.id))})})}function h(e){let{plan:r,planPeriod:t,setPlanPeriod:o,onSelect:c,props:d,isCompact:p=!1}=e,g=(0,a.cL)(),{mode:h="mounted"}=(0,n.usePricingTableContext)(),y=(0,n.useSubscriberTypeContext)(),T=d.ctaPosition||"bottom",B=d.collapseFeatures||!1,{id:C,slug:f,features:$}=r,v=$.length>0,{buttonPropsForPlan:S}=(0,n.usePlansContext)();return(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableCard,elementId:l.descriptors.pricingTableCard.setId(f),sx:e=>({display:"flex",flexDirection:"column",background:m.common.mergedColorsBackground(u.O9.setAlpha(e.colors.$colorBackground,1),e.colors.$neutralAlpha50),borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,boxShadow:p?e.shadows.$tableBodyShadow:e.shadows.$cardBoxShadow,borderRadius:e.radii.$xl,overflow:"hidden",textAlign:"left"}),"data-variant":p?"compact":"default",children:[(0,i.tZ)(x,{plan:r,isCompact:p,planPeriod:t,setPlanPeriod:o}),(0,i.BX)(s.ReversibleContainer,{reverse:"top"===T,children:[B?null:(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardFeatures,sx:e=>({display:"flex",flexDirection:"column",flex:"1",padding:v?p?e.space.$3:e.space.$4:0,backgroundColor:v?e.colors.$colorBackground:void 0,borderTopWidth:v?e.borderWidths.$normal:0,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),"data-variant":p?"compact":"default",children:(0,i.tZ)(b,{plan:r,isCompact:p,showPlanDetails:e=>{let i=(0,u.N2)(h,e);g.__internal_openPlanDetails({plan:r,subscriberType:y,planPeriod:t,portalRoot:i})}})}),!r.isDefault&&(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardAction,sx:e=>({marginTop:"auto",padding:p?e.space.$3:e.space.$4,borderTopWidth:v?e.borderWidths.$normal:0,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100,background:void 0}),children:(0,i.tZ)(l.Button,{block:!0,textVariant:p?"buttonSmall":"buttonLarge",...S({plan:r,isCompact:p}),onClick:e=>{c(r,e)}})})]})]},C)}let x=o.forwardRef((e,r)=>{let t=(0,d.Tb)(),{animations:a}=(0,l.useAppearance)().parsedLayout,{plan:c,isCompact:m,planPeriod:u,setPlanPeriod:g}=e,{name:h,avatarUrl:x,annualMonthlyAmount:b}=c,y=!t&&!0===a,T=o.useMemo(()=>b<=0?c.amountFormatted:"annual"===u?c.annualMonthlyAmountFormatted:c.amountFormatted,[b,u,c.amountFormatted,c.annualMonthlyAmountFormatted]),{activeOrUpcomingSubscription:B,isDefaultPlanImplicitlyActive:C}=(0,n.usePlansContext)(),f=B(c),$=C&&c.isDefault,v=!!f||$;return(0,i.BX)(l.Box,{ref:r,elementDescriptor:l.descriptors.pricingTableCardHeader,sx:e=>({width:"100%",padding:m?e.space.$3:e.space.$4}),"data-variant":m?"compact":"default",children:[x||v?(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardAvatarBadgeContainer,sx:e=>({marginBlockEnd:e.space.$3,display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:e.space.$3,float:x||v?void 0:"right"}),children:[x?(0,i.tZ)(s.Avatar,{boxElementDescriptor:l.descriptors.pricingTableCardAvatar,size:e=>40,title:h,initials:h[0],rounded:!1,imageUrl:x}):null,(0,i.tZ)(s.ReversibleContainer,{reverse:!x,children:v?(0,i.tZ)(l.Span,{elementDescriptor:l.descriptors.pricingTableCardBadgeContainer,sx:{flexBasis:x?"100%":void 0},children:$||(null==f?void 0:f.status)==="active"?(0,i.tZ)(l.Badge,{elementDescriptor:l.descriptors.pricingTableCardBadge,localizationKey:(0,l.localizationKeys)("badge__currentPlan"),colorScheme:"secondary"}):(0,i.tZ)(l.Badge,{elementDescriptor:l.descriptors.pricingTableCardBadge,localizationKey:(0,l.localizationKeys)("badge__startsAt",{date:null==f?void 0:f.periodStart}),colorScheme:"primary"})}):null})]}):null,(0,i.tZ)(l.Heading,{elementDescriptor:l.descriptors.pricingTableCardTitle,as:"h2",textVariant:m?"h3":"h2",children:c.name}),!m&&c.description?(0,i.tZ)(l.Text,{elementDescriptor:l.descriptors.pricingTableCardDescription,variant:"subtitle",colorScheme:"secondary",children:c.description}):null,(0,i.BX)(l.Flex,{elementDescriptor:l.descriptors.pricingTableCardFeeContainer,"data-variant":m?"compact":"default",align:"center",wrap:"wrap",sx:e=>({marginTop:m?e.space.$2:e.space.$3,columnGap:e.space.$1x5}),children:[(0,i.BX)(l.Text,{elementDescriptor:l.descriptors.pricingTableCardFee,variant:m?"h2":"h1",colorScheme:"body",children:[c.currencySymbol,T]}),(0,i.tZ)(l.Text,{elementDescriptor:l.descriptors.pricingTableCardFeePeriod,variant:"caption",colorScheme:"secondary",sx:e=>({textTransform:"lowercase",":before":{content:'"/"',marginInlineEnd:e.space.$1}}),localizationKey:(0,l.localizationKeys)("__experimental_commerce.month")}),b>0?(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardFeePeriodNotice,sx:[e=>({width:"100%",display:"grid",gridTemplateRows:"annual"===u?"1fr":"0fr"}),e=>({transition:y?"grid-template-rows ".concat(e.transitionDuration.$slower," ").concat(e.transitionTiming.$slowBezier):"none"})],inert:"annual"!==u?"true":void 0,children:(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardFeePeriodNoticeInner,sx:{overflow:"hidden",minHeight:0},children:(0,i.BX)(l.Text,{elementDescriptor:l.descriptors.pricingTableCardFeePeriodNoticeLabel,variant:"caption",colorScheme:"secondary",sx:e=>({width:"100%",display:"flex",alignItems:"center",columnGap:e.space.$1}),children:[(0,i.tZ)(l.Icon,{icon:p.I$,colorScheme:"neutral",size:"sm","aria-hidden":!0})," ",(0,i.tZ)(l.Span,{localizationKey:(0,l.localizationKeys)("__experimental_commerce.billedAnnually")})]})})}):null]}),c.hasBaseFee&&b>0&&g?(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardPeriodToggle,sx:e=>({display:"flex",marginTop:e.space.$3}),children:(0,i.BX)(s.SegmentedControl.Root,{"aria-label":"Set pay period",value:u,onChange:e=>g(e),children:[(0,i.tZ)(s.SegmentedControl.Button,{value:"month",text:"Monthly"}),(0,i.tZ)(s.SegmentedControl.Button,{value:"annual",text:"Annually"})]})}):null]})}),b=o.forwardRef((e,r)=>{let{plan:t,isCompact:a,showPlanDetails:o}=e,n=t.features.length,c=a?n>3:n>8;return(0,i.BX)(l.Box,{ref:r,elementDescriptor:l.descriptors.pricingTableCardFeatures,sx:e=>({display:"grid",flex:"1",rowGap:a?e.space.$2:e.space.$3}),children:[(0,i.tZ)(l.Col,{elementDescriptor:l.descriptors.pricingTableCardFeaturesList,"data-variant":a?"compact":"default",as:"ul",role:"list",sx:e=>({flex:"1",rowGap:a?e.space.$2:e.space.$3,margin:0,padding:0}),children:t.features.slice(0,c?a?3:8:n).map(e=>(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableCardFeaturesListItem,elementId:l.descriptors.pricingTableCardFeaturesListItem.setId(e.slug),as:"li",sx:e=>({display:"flex",alignItems:"baseline",gap:e.space.$2,margin:0,padding:0}),children:[(0,i.tZ)(l.Icon,{icon:p.Jr,colorScheme:"neutral",size:"sm","aria-hidden":!0,sx:e=>({transform:"translateY(".concat(e.space.$0x25,")")})}),(0,i.tZ)(l.Span,{elementDescriptor:l.descriptors.pricingTableCardFeaturesListItemContent,children:(0,i.tZ)(l.Text,{elementDescriptor:l.descriptors.pricingTableCardFeaturesListItemTitle,colorScheme:"body",sx:e=>({fontWeight:e.fontWeights.$normal}),children:e.name})})]},e.id))}),c&&(0,i.BX)(l.SimpleButton,{onClick:e=>o(e),variant:"link",sx:e=>({marginBlockStart:e.space.$2,gap:e.space.$1}),children:[(0,i.tZ)(l.Icon,{icon:p.v3,colorScheme:"neutral",size:"md","aria-hidden":!0}),(0,i.tZ)(l.Span,{localizationKey:(0,l.localizationKeys)("__experimental_commerce.seeAllFeatures")})]})]})});function y(e){let{plans:r=[],planPeriod:t,setPlanPeriod:a,onSelect:c,highlightedPlan:g}=e,h=(0,d.Tb)(),{animations:x}=(0,l.useAppearance)().parsedLayout,b=!h&&!0===x,y=o.useId(),T="".concat(y,"-segmented-control"),{buttonPropsForPlan:B}=(0,n.usePlansContext)(),C=e=>({transition:b?"grid-template-rows ".concat(e.transitionDuration.$slower," ").concat(e.transitionTiming.$slowBezier):"none"}),f=e=>({background:m.common.mergedColorsBackground(u.O9.setAlpha(e.colors.$colorBackground,1),e.colors.$neutralAlpha25)}),$=o.useMemo(()=>"repeat(".concat(r.length+1,", minmax(9.375rem,1fr))"),[r.length]),v=o.useMemo(()=>r.some(e=>e.annualMonthlyAmount>0),[r]),S=o.useMemo(()=>{let e=new Set;return r.forEach(r=>{let{features:t}=r;t.forEach(r=>{let{name:t}=r;return e.add(t)})}),Array.from(e)},[r]);return r.length?(0,i.tZ)(m.InternalThemeProvider,{children:(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrix,sx:e=>({position:"relative",minWidth:"100%",display:"grid",isolation:"isolate",backgroundColor:e.colors.$colorBackground,[m.mqu.md]:{overflowX:"auto"}}),children:(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixTable,role:"table",children:[(0,i.tZ)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixRowGroup,l.descriptors.pricingTableMatrixRowGroupHeader],role:"rowgroup",sx:e=>({position:"sticky",top:0,backgroundColor:e.colors.$colorBackground,borderBottomWidth:e.borderWidths.$normal,borderBottomStyle:e.borderStyles.$solid,borderBottomColor:e.colors.$neutralAlpha100,zIndex:1}),children:(0,i.BX)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixRow,l.descriptors.pricingTableMatrixRowHeader],role:"row",sx:{display:"grid",gridTemplateColumns:$},children:[(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixColumnHeader,role:"columnheader",sx:e=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-end",rowGap:e.space.$3,paddingBlockEnd:e.space.$12,paddingInlineStart:e.space.$3}),children:v?(0,i.BX)(i.HY,{children:[(0,i.tZ)(l.Text,{id:T,colorScheme:"secondary",variant:"caption",children:"Billing cycle"}),(0,i.BX)(s.SegmentedControl.Root,{"aria-labelledby":T,value:t,onChange:e=>a(e),children:[(0,i.tZ)(s.SegmentedControl.Button,{value:"month",text:"Monthly"}),(0,i.tZ)(s.SegmentedControl.Button,{value:"annual",text:"Annually"})]})]}):null}),r.map(e=>{let r=e.slug===g,a=e.annualMonthlyAmount<=0?e.amountFormatted:"annual"===t?e.annualMonthlyAmountFormatted:e.amountFormatted;return(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixColumnHeader,role:"columnheader",sx:[e=>({display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1,borderStartStartRadius:e.radii.$xl,borderStartEndRadius:e.radii.$xl}),r&&f],"data-highlighted":r,children:[(0,i.BX)(l.Box,{sx:e=>({width:"100%",padding:e.space.$4}),children:[e.avatarUrl||r?(0,i.BX)(l.Span,{sx:e=>({width:"100%",display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBlockEnd:e.space.$3}),children:[e.avatarUrl?(0,i.tZ)(s.Avatar,{elementDescriptor:l.descriptors.pricingTableMatrixAvatar,size:e=>40,title:e.name,initials:e.name[0],rounded:!1,imageUrl:e.avatarUrl}):null,r?(0,i.tZ)(l.Badge,{elementDescriptor:l.descriptors.pricingTableMatrixBadge,colorScheme:"secondary",children:"Popular"}):null]}):null,(0,i.tZ)(l.Heading,{elementDescriptor:l.descriptors.pricingTableMatrixPlanName,textVariant:"h3",children:e.name}),(0,i.tZ)(l.Flex,{align:"center",wrap:"wrap",sx:e=>({marginTop:e.space.$2,columnGap:e.space.$1x5}),children:e.hasBaseFee?(0,i.BX)(i.HY,{children:[(0,i.BX)(l.Text,{elementDescriptor:l.descriptors.pricingTableMatrixFee,variant:"h2",colorScheme:"body",children:[e.currencySymbol,a]}),(0,i.tZ)(l.Text,{elementDescriptor:l.descriptors.pricingTableMatrixFeePeriod,variant:"caption",colorScheme:"secondary",sx:e=>({textTransform:"lowercase",":before":{content:'"/"',marginInlineEnd:e.space.$1}}),localizationKey:(0,l.localizationKeys)("__experimental_commerce.month")}),e.annualMonthlyAmount>0?(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixFeePeriodNotice,sx:[e=>({width:"100%",display:"grid",gridTemplateRows:"annual"===t?"1fr":"0fr"}),C],inert:"annual"!==t?"true":void 0,children:(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixFeePeriodNoticeInner,sx:{overflow:"hidden",minHeight:0},children:(0,i.BX)(l.Text,{elementDescriptor:l.descriptors.pricingTableMatrixFeePeriodNoticeLabel,variant:"caption",colorScheme:"secondary",sx:e=>({width:"100%",display:"flex",alignItems:"center",columnGap:e.space.$1}),children:[(0,i.tZ)(l.Icon,{icon:p.I$,colorScheme:"neutral",size:"sm","aria-hidden":!0})," ",(0,i.tZ)(l.Span,{localizationKey:(0,l.localizationKeys)("__experimental_commerce.billedAnnually")})]})})}):null]}):(0,i.tZ)(l.Text,{elementDescriptor:l.descriptors.pricingTableMatrixFee,variant:"h2",localizationKey:(0,l.localizationKeys)("__experimental_commerce.free"),colorScheme:"body"})})]}),e.isDefault?null:(0,i.tZ)(l.Box,{sx:e=>({width:"100%",marginBlockStart:"auto",marginBlockEnd:e.space.$8,paddingBlockStart:e.space.$2,paddingBlockEnd:e.space.$4,paddingInline:e.space.$4}),children:(0,i.tZ)(l.Button,{block:!0,textVariant:"buttonSmall",size:"xs",onClick:r=>{c(e,r)},...B({plan:e}),colorScheme:r?"primary":"secondary"})})]},e.slug)})]})}),(0,i.BX)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixRowGroup,l.descriptors.pricingTableMatrixRowGroupBody],role:"rowgroup",children:[S.map(e=>(0,i.BX)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixRow,l.descriptors.pricingTableMatrixRowBody],role:"row",sx:e=>({position:"relative",display:"grid",gridTemplateColumns:$,borderBottomWidth:e.borderWidths.$normal,borderBottomStyle:e.borderStyles.$solid,borderBottomColor:e.colors.$neutralAlpha100,":after":{content:'""',position:"absolute",inset:0,pointerEvents:"none",backgroundColor:e.colors.$neutralAlpha25,opacity:0},":hover:after":{opacity:1}}),children:[(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixCell,role:"cell",sx:e=>({padding:e.space.$3}),children:(0,i.tZ)(l.Text,{colorScheme:"body",children:e})}),r.map(r=>{let t=r.slug===g,a=r.features.some(r=>r.name===e);return(0,i.tZ)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixCell,role:"cell",sx:[e=>({display:"grid",placeContent:"center",padding:e.space.$3}),t&&f],"data-highlighted":t,"data-checked":a,children:a&&(0,i.tZ)(l.Icon,{icon:p.Jr,colorScheme:"neutral",size:"sm","aria-label":"Included"})},r.slug)})]},e)),(0,i.BX)(l.Box,{elementDescriptor:l.descriptors.pricingTableMatrixFooter,sx:{display:"grid",gridTemplateColumns:$},children:[(0,i.tZ)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixCell,l.descriptors.pricingTableMatrixCellFooter]}),r.map(e=>{let r=e.slug===g;return(0,i.tZ)(l.Box,{elementDescriptor:[l.descriptors.pricingTableMatrixCell,l.descriptors.pricingTableMatrixCellFooter],sx:[e=>({height:e.space.$10,borderEndStartRadius:e.radii.$xl,borderEndEndRadius:e.radii.$xl}),r&&f],"data-highlighted":r},e.slug)})]})]})]})})}):null}t(13189),t(63277),t(82230),t(27899),t(37389),t(27968),t(46299);let T=e=>{let r=(0,a.cL)(),{mode:t="mounted"}=(0,n.usePricingTableContext)(),s=(0,n.useSubscriberTypeContext)(),d="modal"===t,{organization:p}=(0,a.o8)(),{plans:m,handleSelectPlan:u}=(0,n.usePlansContext)(),[h,x]=(0,o.useState)("month"),b=(e,i)=>{if(!r.isSignedIn)return r.redirectToSignIn();u({mode:t,plan:e,planPeriod:h,event:i})},{__experimental_commerce:T}=(0,a.cL)(),{user:B}=(0,a.aF)();return(0,c.ib)(B?null==T?void 0:T.getPaymentSources:void 0,{..."org"===s?{orgId:null==p?void 0:p.id}:{}},void 0,"commerce-payment-sources-".concat(null==B?void 0:B.id)),(0,i.tZ)(l.Flow.Root,{flow:"pricingTable",sx:{width:"100%"},children:"modal"!==t&&"matrix"===e.layout?(0,i.tZ)(y,{plans:m,planPeriod:h,setPlanPeriod:x,onSelect:b,highlightedPlan:e.highlightPlan}):(0,i.tZ)(g,{plans:m,planPeriod:h,setPlanPeriod:x,onSelect:b,isCompact:d,props:e})})},B=e=>(0,i.tZ)("div",{children:(0,i.tZ)(T,{...e})}),C=e=>{let{mode:r="mounted"}=(0,n.usePricingTableContext)();return"modal"===r?(0,i.tZ)(B,{...e}):(0,i.tZ)(T,{...e})}}}]);