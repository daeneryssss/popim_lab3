"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["82"],{9174:function(e,t,i){i.d(t,{k:()=>s,J:()=>g.J});var a=i(8635);i(9144);var n=i(8756),l=i(3064),r=i(6106),o=i(4676),c=i(5913);let s=()=>{let{invoices:e,isLoading:t,totalCount:i}=(0,n.useInvoicesContext)();return(0,a.tZ)(h,{page:1,onPageChange:e=>{},itemCount:i,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:"No invoices to display",headers:["Date/Invoice","Status","Total"],rows:e.map(e=>(0,a.tZ)(d,{invoice:e},e.id))})},d=({invoice:e})=>{let{paymentDueOn:t,id:i,status:n,totals:{grandTotal:r}}=e,{navigate:s}=(0,o.useRouter)(),d=()=>{s(`invoice/${i}`)};return(0,a.BX)(u,{onClick:d,children:[(0,a.BX)(l.Td,{sx:{cursor:"pointer"},children:[(0,a.tZ)(l.Text,{variant:"subtitle",children:(0,a.tZ)(l.Link,{onClick:d,children:new Date(t).toLocaleDateString()})}),(0,a.tZ)(l.Text,{colorScheme:"secondary",truncate:!0,sx:e=>({marginTop:e.space.$0x5,textTransform:"uppercase"}),children:(0,c.L)(i)})]}),(0,a.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,a.tZ)(l.Badge,{colorScheme:{paid:"success",unpaid:"warning",past_due:"danger"}[n],sx:{textTransform:"capitalize"},children:n})}),(0,a.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,a.BX)(l.Text,{colorScheme:"secondary",children:[r.currencySymbol,r.amountFormatted]})})]})},h=e=>{let{headers:t,page:i,onPageChange:n,rows:o,isLoading:c,itemCount:s,itemsPerPage:d,pageCount:h,emptyStateLocalizationKey:u}=e,g=s>0?Math.max(0,(i-1)*d)+1:0,m=Math.min(i*d,s);return(0,a.BX)(l.Col,{gap:4,sx:{width:"100%"},children:[(0,a.tZ)(l.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,a.BX)(l.Table,{sx:{tableLayout:"fixed"},children:[(0,a.tZ)(l.Thead,{children:(0,a.tZ)(l.Tr,{children:t.map((e,t)=>(0,a.tZ)(l.Th,{elementDescriptor:l.descriptors.tableHead,localizationKey:e},t))})}),(0,a.tZ)(l.Tbody,{children:c?(0,a.tZ)(l.Tr,{children:(0,a.tZ)(l.Td,{colSpan:4,children:(0,a.tZ)(l.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:l.descriptors.spinner})})}):o.length?o:(0,a.tZ)(p,{localizationKey:u},"empty")})]})}),h>1&&(0,a.tZ)(r.Pagination,{count:h,page:i,onChange:n,siblingCount:1,rowInfo:{allRowsCount:s,startingRow:g,endingRow:m}})]})},p=e=>(0,a.tZ)(l.Tr,{children:(0,a.tZ)(l.Td,{colSpan:4,children:(0,a.tZ)(l.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),u=e=>(0,a.tZ)(l.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})});var g=i(1171)},9828:function(e,t,i){i.r(t),i.d(t,{__experimental_PricingTable:()=>a.C});var a=i(5006)},1800:function(e,t,i){i.d(t,{b:()=>o});var a=i(8635),n=i(8756),l=i(3064),r=i(6258);function o(){let{subscriptions:e,handleSelectPlan:t,captionForSubscription:i,canManageSubscription:o}=(0,n.usePlansContext)(),c=(e,i)=>{t({mode:"modal",plan:e.plan,planPeriod:e.planPeriod,event:i})};return(0,a.BX)(l.Table,{tableHeadVisuallyHidden:!0,children:[(0,a.tZ)(l.Thead,{children:(0,a.BX)(l.Tr,{children:[(0,a.tZ)(l.Th,{children:"Plan"}),(0,a.tZ)(l.Th,{children:"Start date"}),(0,a.tZ)(l.Th,{children:"Edit"})]})}),(0,a.tZ)(l.Tbody,{children:e.map(t=>(0,a.BX)(l.Tr,{children:[(0,a.tZ)(l.Td,{children:(0,a.BX)(l.Col,{gap:1,children:[(0,a.BX)(l.Flex,{align:"center",gap:1,children:[(0,a.tZ)(l.Icon,{icon:r.ou,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})}),(0,a.tZ)(l.Text,{variant:"subtitle",sx:e=>({marginRight:e.sizes.$1}),children:t.plan.name}),e.length>1||t.canceledAt?(0,a.tZ)(l.Badge,{colorScheme:"active"===t.status?"secondary":"primary",localizationKey:"active"===t.status?(0,l.localizationKeys)("badge__currentPlan"):(0,l.localizationKeys)("badge__upcomingPlan")}):null]}),(0,a.tZ)(l.Text,{variant:"caption",colorScheme:"secondary",localizationKey:i(t)})]})}),(0,a.tZ)(l.Td,{sx:e=>({textAlign:"right"}),children:(0,a.BX)(l.Text,{variant:"subtitle",children:[t.plan.currencySymbol,"annual"===t.planPeriod?t.plan.annualMonthlyAmountFormatted:t.plan.amountFormatted,(0,a.tZ)(l.Span,{sx:e=>({color:e.colors.$colorTextSecondary,textTransform:"lowercase",":before":{content:'"/"',marginInline:e.space.$1}}),localizationKey:(0,l.localizationKeys)("__experimental_commerce.month")})]})}),(0,a.tZ)(l.Td,{sx:e=>({textAlign:"right"}),children:o({subscription:t})&&(0,a.tZ)(l.Button,{"aria-label":"Manage subscription",onClick:e=>c(t,e),variant:"bordered",colorScheme:"secondary",sx:e=>({width:e.sizes.$6,height:e.sizes.$6}),children:(0,a.tZ)(l.Icon,{icon:r.tc,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})})})})]},t.id))})]})}},6793:function(e,t,i){i.r(t),i.d(t,{BillingPage:()=>m});var a=i(8635),n=i(8756),l=i(3064),r=i(6106),o=i(3746),c=i(4676),s=i(9174),d=i(4011),h=i(9828),p=i(1800);let u={0:"plans",1:"invoices",2:"payment-methods"},g=(0,r.withCardStateProvider)(()=>{let e=(0,r.useCardState)(),{data:t}=(0,n.useSubscriptions)(),{navigate:i}=(0,c.useRouter)(),{selectedTab:g,handleTabChange:m}=(0,o.x)(u);return Array.isArray(t?.data)?(0,a.tZ)(l.Col,{elementDescriptor:l.descriptors.page,sx:e=>({gap:e.space.$8,color:e.colors.$colorText}),children:(0,a.BX)(l.Col,{elementDescriptor:l.descriptors.profilePage,elementId:l.descriptors.profilePage.setId("billing"),gap:4,children:[(0,a.tZ)(r.Header.Root,{children:(0,a.tZ)(r.Header.Title,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.title"),textVariant:"h2"})}),(0,a.tZ)(r.Card.Alert,{children:e.error}),(0,a.BX)(r.Tabs,{value:g,onChange:m,children:[(0,a.BX)(r.TabsList,{sx:e=>({gap:e.space.$6}),children:[(0,a.tZ)(r.Tab,{localizationKey:t.data.length>0?(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__subscriptions"):(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__plans")}),(0,a.tZ)(r.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__invoices")}),(0,a.tZ)(r.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__paymentMethods")})]}),(0,a.BX)(r.TabPanels,{children:[(0,a.tZ)(r.TabPanel,{sx:e=>({width:"100%",flexDirection:"column"}),children:t.data.length>0?(0,a.BX)(a.HY,{children:[(0,a.tZ)(p.b,{}),(0,a.tZ)(l.Button,{localizationKey:"View all plans",hasArrow:!0,variant:"ghost",onClick:()=>i("plans"),sx:e=>({width:"fit-content",marginTop:e.space.$4})})]}):(0,a.tZ)(n.__experimental_PricingTableContext.Provider,{value:{componentName:"PricingTable",mode:"modal"},children:(0,a.tZ)(h.__experimental_PricingTable,{})})}),(0,a.tZ)(r.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(n.InvoicesContextProvider,{children:(0,a.tZ)(s.k,{})})}),(0,a.tZ)(r.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(d.QR,{})})]})]})]})}):null}),m=()=>(0,a.tZ)(n.SubscriberTypeContext.Provider,{value:"user",children:(0,a.tZ)(n.PlansContextProvider,{children:(0,a.tZ)(g,{})})})}}]);