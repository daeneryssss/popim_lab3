"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["916"],{4961:function(e,t,i){i.r(t),i.d(t,{OrganizationBillingPage:()=>_});var a=i(8635),l=i(8756),n=i(3064),r=i(6106),o=i(3746),c=i(4676),s=i(9174),d=i(9274),h=i(9828),p=i(1800);let g={0:"plans",1:"invoices",2:"payment-methods"},u=(0,r.withCardStateProvider)(()=>{let e=(0,r.useCardState)(),{data:t}=(0,l.useSubscriptions)("org"),{selectedTab:i,handleTabChange:u}=(0,o.x)(g),{navigate:_}=(0,c.useRouter)();return Array.isArray(t?.data)?(0,a.tZ)(n.Col,{elementDescriptor:n.descriptors.page,sx:e=>({gap:e.space.$8,color:e.colors.$colorText}),children:(0,a.BX)(n.Col,{elementDescriptor:n.descriptors.profilePage,elementId:n.descriptors.profilePage.setId("billing"),gap:4,children:[(0,a.tZ)(r.Header.Root,{children:(0,a.tZ)(r.Header.Title,{localizationKey:(0,n.localizationKeys)("userProfile.__experimental_billingPage.title"),textVariant:"h2"})}),(0,a.tZ)(r.Card.Alert,{children:e.error}),(0,a.BX)(r.Tabs,{value:i,onChange:u,children:[(0,a.BX)(r.TabsList,{sx:e=>({gap:e.space.$6}),children:[(0,a.tZ)(r.Tab,{localizationKey:t.data.length>0?(0,n.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__subscriptions"):(0,n.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__plans")}),(0,a.tZ)(r.Tab,{localizationKey:(0,n.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__invoices")}),(0,a.tZ)(r.Tab,{localizationKey:(0,n.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__paymentMethods")})]}),(0,a.BX)(r.TabPanels,{children:[(0,a.tZ)(r.TabPanel,{sx:{width:"100%",flexDirection:"column"},children:t.data.length>0?(0,a.BX)(a.HY,{children:[(0,a.tZ)(p.b,{}),(0,a.tZ)(n.Button,{localizationKey:"View all plans",hasArrow:!0,variant:"ghost",onClick:()=>_("plans"),sx:e=>({width:"fit-content",marginTop:e.space.$4})})]}):(0,a.tZ)(l.__experimental_PricingTableContext.Provider,{value:{componentName:"PricingTable",mode:"modal"},children:(0,a.tZ)(h.__experimental_PricingTable,{})})}),(0,a.tZ)(r.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(l.InvoicesContextProvider,{children:(0,a.tZ)(s.k,{})})}),(0,a.tZ)(r.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(d.Q,{})})]})]})]})}):null}),_=()=>(0,a.tZ)(l.SubscriberTypeContext.Provider,{value:"org",children:(0,a.tZ)(l.PlansContextProvider,{children:(0,a.tZ)(u,{})})})},9828:function(e,t,i){i.r(t),i.d(t,{__experimental_PricingTable:()=>a.C});var a=i(5006)},1800:function(e,t,i){i.d(t,{b:()=>o});var a=i(8635),l=i(8756),n=i(3064),r=i(6258);function o(){let{subscriptions:e,handleSelectPlan:t,captionForSubscription:i,canManageSubscription:o}=(0,l.usePlansContext)(),c=(e,i)=>{t({mode:"modal",plan:e.plan,planPeriod:e.planPeriod,event:i})};return(0,a.BX)(n.Table,{tableHeadVisuallyHidden:!0,children:[(0,a.tZ)(n.Thead,{children:(0,a.BX)(n.Tr,{children:[(0,a.tZ)(n.Th,{children:"Plan"}),(0,a.tZ)(n.Th,{children:"Start date"}),(0,a.tZ)(n.Th,{children:"Edit"})]})}),(0,a.tZ)(n.Tbody,{children:e.map(t=>(0,a.BX)(n.Tr,{children:[(0,a.tZ)(n.Td,{children:(0,a.BX)(n.Col,{gap:1,children:[(0,a.BX)(n.Flex,{align:"center",gap:1,children:[(0,a.tZ)(n.Icon,{icon:r.ou,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})}),(0,a.tZ)(n.Text,{variant:"subtitle",sx:e=>({marginRight:e.sizes.$1}),children:t.plan.name}),e.length>1||t.canceledAt?(0,a.tZ)(n.Badge,{colorScheme:"active"===t.status?"secondary":"primary",localizationKey:"active"===t.status?(0,n.localizationKeys)("badge__currentPlan"):(0,n.localizationKeys)("badge__upcomingPlan")}):null]}),(0,a.tZ)(n.Text,{variant:"caption",colorScheme:"secondary",localizationKey:i(t)})]})}),(0,a.tZ)(n.Td,{sx:e=>({textAlign:"right"}),children:(0,a.BX)(n.Text,{variant:"subtitle",children:[t.plan.currencySymbol,"annual"===t.planPeriod?t.plan.annualMonthlyAmountFormatted:t.plan.amountFormatted,(0,a.tZ)(n.Span,{sx:e=>({color:e.colors.$colorTextSecondary,textTransform:"lowercase",":before":{content:'"/"',marginInline:e.space.$1}}),localizationKey:(0,n.localizationKeys)("__experimental_commerce.month")})]})}),(0,a.tZ)(n.Td,{sx:e=>({textAlign:"right"}),children:o({subscription:t})&&(0,a.tZ)(n.Button,{"aria-label":"Manage subscription",onClick:e=>c(t,e),variant:"bordered",colorScheme:"secondary",sx:e=>({width:e.sizes.$6,height:e.sizes.$6}),children:(0,a.tZ)(n.Icon,{icon:r.tc,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})})})})]},t.id))})]})}}}]);