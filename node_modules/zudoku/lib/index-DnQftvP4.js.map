{"version":3,"file":"index-DnQftvP4.js","sources":["../../../node_modules/.pnpm/@mdx-js+react@3.1.0_@types+react@19.1.1_react@19.1.0/node_modules/@mdx-js/react/lib/index.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryCache.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryClient.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/hydration.js","../../../node_modules/.pnpm/@tanstack+react-query@5.74.3_react@19.1.0/node_modules/@tanstack/react-query/build/modern/HydrationBoundary.js","../src/lib/errors/ServerError.tsx","../../../node_modules/.pnpm/react-router@7.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/react-router/dist/development/dom-export.mjs","../src/lib/plugins/openapi/StaggeredRender.tsx","../src/lib/components/Bootstrap.tsx","../../../node_modules/.pnpm/zod@3.24.2/node_modules/zod/lib/index.mjs","../src/lib/components/BuildCheck.tsx","../src/lib/util/useScrollToTop.ts","../src/lib/components/Footer.tsx","../src/lib/ui/Skeleton.tsx","../src/lib/components/Banner.tsx","../src/lib/components/navigation/ZudokuLogo.tsx","../src/lib/components/navigation/PoweredByZudoku.tsx","../src/lib/util/detectOS.ts","../src/lib/components/Search.tsx","../src/lib/components/ThemeSwitch.tsx","../../../node_modules/.pnpm/@babel+runtime@7.27.0/node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.production.min.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.development.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/index.js","../../../node_modules/.pnpm/hoist-non-react-statics@3.3.2/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../../../node_modules/.pnpm/@tanem+react-nprogress@5.0.55_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@tanem/react-nprogress/dist/react-nprogress.esm.js","../src/lib/components/TopNavigation.tsx","../src/lib/components/MobileTopNavigation.tsx","../src/lib/components/Header.tsx","../src/lib/ui/Drawer.tsx","../src/lib/components/navigation/SidebarWrapper.tsx","../src/lib/components/navigation/Sidebar.tsx","../src/lib/components/Main.tsx","../src/lib/components/Layout.tsx","../src/lib/components/ErrorPage.tsx","../src/lib/components/StatusPage.tsx","../../../node_modules/.pnpm/react-error-boundary@5.0.0_react@19.1.0/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../../node_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js","../src/lib/core/ZudokuContext.ts","../src/lib/errors/TopLevelError.tsx","../src/lib/util/requestIdleCallbackPolyfill.ts","../src/lib/components/context/ComponentsContext.tsx","../src/lib/components/context/RouterEventsEmitter.tsx","../src/lib/components/context/ZudokuProvider.tsx","../src/lib/components/Zudoku.tsx","../src/lib/components/index.ts"],"sourcesContent":["/**\n * @import {MDXComponents} from 'mdx/types.js'\n * @import {Component, ReactElement, ReactNode} from 'react'\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} properties\n *   Properties.\n * @returns {ReactElement}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(properties) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (properties.disableParentContext) {\n    allComponents =\n      typeof properties.components === 'function'\n        ? properties.components(emptyComponents)\n        : properties.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(properties.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    properties.children\n  )\n}\n","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","// src/hydration.ts\nfunction defaultTransformerFn(data) {\n  return data;\n}\nfunction dehydrateMutation(mutation) {\n  return {\n    mutationKey: mutation.options.mutationKey,\n    state: mutation.state,\n    ...mutation.options.scope && { scope: mutation.options.scope },\n    ...mutation.meta && { meta: mutation.meta }\n  };\n}\nfunction dehydrateQuery(query, serializeData, shouldRedactErrors) {\n  return {\n    state: {\n      ...query.state,\n      ...query.state.data !== void 0 && {\n        data: serializeData(query.state.data)\n      }\n    },\n    queryKey: query.queryKey,\n    queryHash: query.queryHash,\n    ...query.state.status === \"pending\" && {\n      promise: query.promise?.then(serializeData).catch((error) => {\n        if (!shouldRedactErrors(error)) {\n          return Promise.reject(error);\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `A query that was dehydrated as pending ended up rejecting. [${query.queryHash}]: ${error}; The error will be redacted in production builds`\n          );\n        }\n        return Promise.reject(new Error(\"redacted\"));\n      })\n    },\n    ...query.meta && { meta: query.meta }\n  };\n}\nfunction defaultShouldDehydrateMutation(mutation) {\n  return mutation.state.isPaused;\n}\nfunction defaultShouldDehydrateQuery(query) {\n  return query.state.status === \"success\";\n}\nfunction defaultShouldRedactErrors(_) {\n  return true;\n}\nfunction dehydrate(client, options = {}) {\n  const filterMutation = options.shouldDehydrateMutation ?? client.getDefaultOptions().dehydrate?.shouldDehydrateMutation ?? defaultShouldDehydrateMutation;\n  const mutations = client.getMutationCache().getAll().flatMap(\n    (mutation) => filterMutation(mutation) ? [dehydrateMutation(mutation)] : []\n  );\n  const filterQuery = options.shouldDehydrateQuery ?? client.getDefaultOptions().dehydrate?.shouldDehydrateQuery ?? defaultShouldDehydrateQuery;\n  const shouldRedactErrors = options.shouldRedactErrors ?? client.getDefaultOptions().dehydrate?.shouldRedactErrors ?? defaultShouldRedactErrors;\n  const serializeData = options.serializeData ?? client.getDefaultOptions().dehydrate?.serializeData ?? defaultTransformerFn;\n  const queries = client.getQueryCache().getAll().flatMap(\n    (query) => filterQuery(query) ? [dehydrateQuery(query, serializeData, shouldRedactErrors)] : []\n  );\n  return { mutations, queries };\n}\nfunction hydrate(client, dehydratedState, options) {\n  if (typeof dehydratedState !== \"object\" || dehydratedState === null) {\n    return;\n  }\n  const mutationCache = client.getMutationCache();\n  const queryCache = client.getQueryCache();\n  const deserializeData = options?.defaultOptions?.deserializeData ?? client.getDefaultOptions().hydrate?.deserializeData ?? defaultTransformerFn;\n  const mutations = dehydratedState.mutations || [];\n  const queries = dehydratedState.queries || [];\n  mutations.forEach(({ state, ...mutationOptions }) => {\n    mutationCache.build(\n      client,\n      {\n        ...client.getDefaultOptions().hydrate?.mutations,\n        ...options?.defaultOptions?.mutations,\n        ...mutationOptions\n      },\n      state\n    );\n  });\n  queries.forEach(({ queryKey, state, queryHash, meta, promise }) => {\n    let query = queryCache.get(queryHash);\n    const data = state.data === void 0 ? state.data : deserializeData(state.data);\n    if (query) {\n      if (query.state.dataUpdatedAt < state.dataUpdatedAt) {\n        const { fetchStatus: _ignored, ...serializedState } = state;\n        query.setState({\n          ...serializedState,\n          data\n        });\n      }\n    } else {\n      query = queryCache.build(\n        client,\n        {\n          ...client.getDefaultOptions().hydrate?.queries,\n          ...options?.defaultOptions?.queries,\n          queryKey,\n          queryHash,\n          meta\n        },\n        // Reset fetch status to idle to avoid\n        // query being stuck in fetching state upon hydration\n        {\n          ...state,\n          data,\n          fetchStatus: \"idle\"\n        }\n      );\n    }\n    if (promise) {\n      const initialPromise = Promise.resolve(promise).then(deserializeData);\n      void query.fetch(void 0, { initialPromise });\n    }\n  });\n}\nexport {\n  defaultShouldDehydrateMutation,\n  defaultShouldDehydrateQuery,\n  dehydrate,\n  hydrate\n};\n//# sourceMappingURL=hydration.js.map","\"use client\";\n\n// src/HydrationBoundary.tsx\nimport * as React from \"react\";\nimport { hydrate } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nvar hasProperty = (obj, key) => {\n  return typeof obj === \"object\" && obj !== null && key in obj;\n};\nvar HydrationBoundary = ({\n  children,\n  options = {},\n  state,\n  queryClient\n}) => {\n  const client = useQueryClient(queryClient);\n  const [hydrationQueue, setHydrationQueue] = React.useState();\n  const optionsRef = React.useRef(options);\n  optionsRef.current = options;\n  React.useMemo(() => {\n    if (state) {\n      if (typeof state !== \"object\") {\n        return;\n      }\n      const queryCache = client.getQueryCache();\n      const queries = state.queries || [];\n      const newQueries = [];\n      const existingQueries = [];\n      for (const dehydratedQuery of queries) {\n        const existingQuery = queryCache.get(dehydratedQuery.queryHash);\n        if (!existingQuery) {\n          newQueries.push(dehydratedQuery);\n        } else {\n          const hydrationIsNewer = dehydratedQuery.state.dataUpdatedAt > existingQuery.state.dataUpdatedAt || // RSC special serialized then-able chunks\n          hasProperty(dehydratedQuery.promise, \"status\") && hasProperty(existingQuery.promise, \"status\") && dehydratedQuery.promise.status !== existingQuery.promise.status;\n          const queryAlreadyQueued = hydrationQueue?.find(\n            (query) => query.queryHash === dehydratedQuery.queryHash\n          );\n          if (hydrationIsNewer && (!queryAlreadyQueued || dehydratedQuery.state.dataUpdatedAt > queryAlreadyQueued.state.dataUpdatedAt)) {\n            existingQueries.push(dehydratedQuery);\n          }\n        }\n      }\n      if (newQueries.length > 0) {\n        hydrate(client, { queries: newQueries }, optionsRef.current);\n      }\n      if (existingQueries.length > 0) {\n        setHydrationQueue(\n          (prev) => prev ? [...prev, ...existingQueries] : existingQueries\n        );\n      }\n    }\n  }, [client, hydrationQueue, state]);\n  React.useEffect(() => {\n    if (hydrationQueue) {\n      hydrate(client, { queries: hydrationQueue }, optionsRef.current);\n      setHydrationQueue(void 0);\n    }\n  }, [client, hydrationQueue]);\n  return children;\n};\nexport {\n  HydrationBoundary\n};\n//# sourceMappingURL=HydrationBoundary.js.map","import { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function ServerError({ error }: { error: unknown }) {\n  return <ErrorAlert error={error} />;\n}\n","/**\n * react-router v7.5.2\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport {\n  FrameworkContext,\n  RemixErrorBoundary,\n  RouterProvider,\n  createBrowserHistory,\n  createClientRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createRouter,\n  decodeViaTurboStream,\n  deserializeErrors,\n  getHydrationData,\n  getPatchRoutesOnNavigationFunction,\n  getTurboStreamSingleFetchDataStrategy,\n  hydrationRouteProperties,\n  invariant,\n  mapRouteProperties,\n  useFogOFWarDiscovery\n} from \"./chunk-BAXFHI7N.mjs\";\n\n// lib/dom-export/dom-router-provider.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nfunction RouterProvider2(props) {\n  return /* @__PURE__ */ React.createElement(RouterProvider, { flushSync: ReactDOM.flushSync, ...props });\n}\n\n// lib/dom-export/hydrated-router.tsx\nimport * as React2 from \"react\";\nvar ssrInfo = null;\nvar router = null;\nfunction initSsrInfo() {\n  if (!ssrInfo && window.__reactRouterContext && window.__reactRouterManifest && window.__reactRouterRouteModules) {\n    if (window.__reactRouterManifest.sri === true) {\n      const importMap = document.querySelector(\"script[rr-importmap]\");\n      if (importMap?.textContent) {\n        try {\n          window.__reactRouterManifest.sri = JSON.parse(\n            importMap.textContent\n          ).integrity;\n        } catch (err) {\n          console.error(\"Failed to parse import map\", err);\n        }\n      }\n    }\n    ssrInfo = {\n      context: window.__reactRouterContext,\n      manifest: window.__reactRouterManifest,\n      routeModules: window.__reactRouterRouteModules,\n      stateDecodingPromise: void 0,\n      router: void 0,\n      routerInitialized: false\n    };\n  }\n}\nfunction createHydratedRouter({\n  unstable_getContext\n}) {\n  initSsrInfo();\n  if (!ssrInfo) {\n    throw new Error(\n      \"You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`\"\n    );\n  }\n  let localSsrInfo = ssrInfo;\n  if (!ssrInfo.stateDecodingPromise) {\n    let stream = ssrInfo.context.stream;\n    invariant(stream, \"No stream found for single fetch decoding\");\n    ssrInfo.context.stream = void 0;\n    ssrInfo.stateDecodingPromise = decodeViaTurboStream(stream, window).then((value) => {\n      ssrInfo.context.state = value.value;\n      localSsrInfo.stateDecodingPromise.value = true;\n    }).catch((e) => {\n      localSsrInfo.stateDecodingPromise.error = e;\n    });\n  }\n  if (ssrInfo.stateDecodingPromise.error) {\n    throw ssrInfo.stateDecodingPromise.error;\n  }\n  if (!ssrInfo.stateDecodingPromise.value) {\n    throw ssrInfo.stateDecodingPromise;\n  }\n  let routes = createClientRoutes(\n    ssrInfo.manifest.routes,\n    ssrInfo.routeModules,\n    ssrInfo.context.state,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  let hydrationData = void 0;\n  if (ssrInfo.context.isSpaMode) {\n    let { loaderData } = ssrInfo.context.state;\n    if (ssrInfo.manifest.routes.root?.hasLoader && loaderData && \"root\" in loaderData) {\n      hydrationData = {\n        loaderData: {\n          root: loaderData.root\n        }\n      };\n    }\n  } else {\n    hydrationData = getHydrationData(\n      ssrInfo.context.state,\n      routes,\n      (routeId) => ({\n        clientLoader: ssrInfo.routeModules[routeId]?.clientLoader,\n        hasLoader: ssrInfo.manifest.routes[routeId]?.hasLoader === true,\n        hasHydrateFallback: ssrInfo.routeModules[routeId]?.HydrateFallback != null\n      }),\n      window.location,\n      window.__reactRouterContext?.basename,\n      ssrInfo.context.isSpaMode\n    );\n    if (hydrationData && hydrationData.errors) {\n      hydrationData.errors = deserializeErrors(hydrationData.errors);\n    }\n  }\n  let router2 = createRouter({\n    routes,\n    history: createBrowserHistory(),\n    basename: ssrInfo.context.basename,\n    unstable_getContext,\n    hydrationData,\n    hydrationRouteProperties,\n    mapRouteProperties,\n    future: {\n      unstable_middleware: ssrInfo.context.future.unstable_middleware\n    },\n    dataStrategy: getTurboStreamSingleFetchDataStrategy(\n      () => router2,\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.basename\n    ),\n    patchRoutesOnNavigation: getPatchRoutesOnNavigationFunction(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.isSpaMode,\n      ssrInfo.context.basename\n    )\n  });\n  ssrInfo.router = router2;\n  if (router2.state.initialized) {\n    ssrInfo.routerInitialized = true;\n    router2.initialize();\n  }\n  router2.createRoutesForHMR = /* spacer so ts-ignore does not affect the right hand of the assignment */\n  createClientRoutesWithHMRRevalidationOptOut;\n  window.__reactRouterDataRouter = router2;\n  return router2;\n}\nfunction HydratedRouter(props) {\n  if (!router) {\n    router = createHydratedRouter({\n      unstable_getContext: props.unstable_getContext\n    });\n  }\n  let [criticalCss, setCriticalCss] = React2.useState(\n    process.env.NODE_ENV === \"development\" ? ssrInfo?.context.criticalCss : void 0\n  );\n  if (process.env.NODE_ENV === \"development\") {\n    if (ssrInfo) {\n      window.__reactRouterClearCriticalCss = () => setCriticalCss(void 0);\n    }\n  }\n  let [location, setLocation] = React2.useState(router.state.location);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router && !ssrInfo.routerInitialized) {\n      ssrInfo.routerInitialized = true;\n      ssrInfo.router.initialize();\n    }\n  }, []);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router) {\n      return ssrInfo.router.subscribe((newState) => {\n        if (newState.location !== location) {\n          setLocation(newState.location);\n        }\n      });\n    }\n  }, [location]);\n  invariant(ssrInfo, \"ssrInfo unavailable for HydratedRouter\");\n  useFogOFWarDiscovery(\n    router,\n    ssrInfo.manifest,\n    ssrInfo.routeModules,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  return (\n    // This fragment is important to ensure we match the <ServerRouter> JSX\n    // structure so that useId values hydrate correctly\n    /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\n      FrameworkContext.Provider,\n      {\n        value: {\n          manifest: ssrInfo.manifest,\n          routeModules: ssrInfo.routeModules,\n          future: ssrInfo.context.future,\n          criticalCss,\n          ssr: ssrInfo.context.ssr,\n          isSpaMode: ssrInfo.context.isSpaMode\n        }\n      },\n      /* @__PURE__ */ React2.createElement(RemixErrorBoundary, { location }, /* @__PURE__ */ React2.createElement(RouterProvider2, { router }))\n    ), /* @__PURE__ */ React2.createElement(React2.Fragment, null))\n  );\n}\nexport {\n  HydratedRouter,\n  RouterProvider2 as RouterProvider\n};\n","import {\n  Children,\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nexport const StaggeredRenderContext = createContext({ stagger: false });\n\nconst StaggeredRender = ({ children }: { children: ReactNode[] }) => {\n  const { stagger } = useContext(StaggeredRenderContext);\n  const [renderAll, setRenderAll] = useState(!stagger);\n\n  useEffect(() => {\n    if (renderAll) {\n      return;\n    }\n\n    const idle = requestIdleCallback(() => {\n      setRenderAll(true);\n    });\n\n    return () => cancelIdleCallback(idle);\n  }, [renderAll]);\n\n  return !renderAll ? Children.toArray(children).slice(0, 3) : children;\n};\n\nexport default StaggeredRender;\n","import {\n  HydrationBoundary,\n  QueryClient,\n  QueryClientProvider,\n} from \"@tanstack/react-query\";\nimport { type HelmetData, HelmetProvider } from \"@zudoku/react-helmet-async\";\nimport { StrictMode } from \"react\";\nimport {\n  type createBrowserRouter,\n  type createStaticRouter,\n  type StaticHandlerContext,\n  StaticRouterProvider,\n} from \"react-router\";\nimport { RouterProvider } from \"react-router/dom\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { BypassProtectedRoutesContext } from \"./context/BypassProtectedRoutesContext.js\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n    },\n  },\n});\n\nconst Bootstrap = ({\n  router,\n  hydrate = false,\n}: {\n  hydrate?: boolean;\n  router: ReturnType<typeof createBrowserRouter>;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HydrationBoundary state={hydrate ? (window as any).DATA : undefined}>\n        <BypassProtectedRoutesContext value={false}>\n          <HelmetProvider>\n            <StaggeredRenderContext.Provider value={{ stagger: !hydrate }}>\n              <RouterProvider router={router} />\n            </StaggeredRenderContext.Provider>\n          </HelmetProvider>\n        </BypassProtectedRoutesContext>\n      </HydrationBoundary>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nconst BootstrapStatic = ({\n  router,\n  context,\n  queryClient,\n  helmetContext,\n  bypassProtection = false,\n}: {\n  helmetContext: HelmetData[\"context\"];\n  context: StaticHandlerContext;\n  queryClient: QueryClient;\n  router: ReturnType<typeof createStaticRouter>;\n  bypassProtection?: boolean;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HelmetProvider context={helmetContext}>\n        <BypassProtectedRoutesContext value={bypassProtection}>\n          <StaticRouterProvider router={router} context={context} />\n        </BypassProtectedRoutesContext>\n      </HelmetProvider>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nexport { Bootstrap, BootstrapStatic };\n","var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        var _a, _b;\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (!decoded.typ || !decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch (_a) {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\"\n        ? params(data)\n        : typeof params === \"string\"\n            ? { message: params }\n            : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nfunction custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    var _a, _b;\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, datetimeRegex, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n","import { useQuery } from \"@tanstack/react-query\";\nimport { CircleFadingArrowUpIcon, LoaderCircleIcon } from \"lucide-react\";\nimport { z } from \"zod\";\nimport { Button } from \"../ui/Button.js\";\n\nconst BuildStatusSchema = z.object({\n  buildId: z.string(),\n  timestamp: z.string(),\n  status: z.enum([\"in-progress\", \"success\", \"failed\"]),\n});\n\nexport const BuildCheck = ({\n  buildId,\n  endpoint = \"/__zuplo/docs\",\n}: {\n  buildId?: string;\n  endpoint?: string;\n}) => {\n  const buildStatusQuery = useQuery({\n    queryKey: [\"zuplo-build-check\", buildId, endpoint],\n    refetchInterval: 3000,\n    enabled:\n      typeof buildId !== \"undefined\" &&\n      import.meta.env.ZUPLO_ENVIRONMENT_TYPE === \"WORKING_COPY\",\n    retry: false,\n    queryFn: () =>\n      fetch(endpoint, { signal: AbortSignal.timeout(2000) })\n        .then((res) => {\n          if (!res.ok) throw new Error(\"Failed to fetch build status\");\n          return res.json();\n        })\n        .then((data) => BuildStatusSchema.parse(data)),\n  });\n\n  if (\n    buildStatusQuery.isError ||\n    !buildStatusQuery.data ||\n    buildStatusQuery.data.buildId === buildId\n  ) {\n    return null;\n  }\n\n  const isCompleted = buildStatusQuery.data.status === \"success\";\n\n  return (\n    <div className=\"fixed flex flex-col gap-3 p-4 rounded-xl w-96 border z-20 bg-background left-0 right-0 top-4 mx-auto shadow-lg\">\n      {isCompleted ? (\n        <div className=\"flex flex-row items-center gap-2\">\n          <CircleFadingArrowUpIcon size={16} />\n          <span className=\"text-sm\">New version available</span>\n        </div>\n      ) : (\n        <div className=\"flex flex-row items-center gap-2\">\n          <LoaderCircleIcon size={16} className=\"animate-spin\" />\n          <span className=\"text-sm\">Building new version...</span>\n        </div>\n      )}\n      <span className=\"text-xs\">\n        {!isCompleted\n          ? \"A new version of the developer portal will be available soon.\"\n          : \"To see the new version, reload the page now.\"}\n      </span>\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        className=\"w-full\"\n        onClick={() => {\n          window.location.reload();\n        }}\n      >\n        Reload\n      </Button>\n    </div>\n  );\n};\n","import { useEffect, useRef } from \"react\";\nimport { useLocation } from \"react-router\";\n\nexport const useScrollToTop = () => {\n  const location = useLocation();\n  const previousPath = useRef(location.pathname);\n\n  useEffect(() => {\n    const isNewPage = previousPath.current !== location.pathname;\n    const hasAnchor = location.hash !== \"\";\n\n    if (isNewPage && !hasAnchor) {\n      window.scrollTo(0, 0);\n    }\n\n    previousPath.current = location.pathname;\n  }, [location.pathname, location.hash]);\n};\n","import { ExternalLink as ExternalLinkIcon } from \"lucide-react\";\nimport type { CSSProperties, ReactNode } from \"react\";\nimport type { FooterSocialIcons } from \"../../config/validators/common.js\";\nimport { cn } from \"../util/cn.js\";\nimport { AnchorLink } from \"./AnchorLink.js\";\nimport { useZudoku } from \"./index.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nconst SocialIcon = ({\n  icon,\n}: {\n  icon: (typeof FooterSocialIcons)[number] | ReactNode;\n}) => {\n  if (typeof icon === \"string\") {\n    return (\n      <img\n        src={`https://cdn.simpleicons.org/${icon}/000000/ffffff`}\n        className=\"size-5\"\n        alt={icon}\n      />\n    );\n  }\n  return icon;\n};\n\nconst isExternalUrl = (href: string) => /^https?:/.test(href);\n\nexport const Footer = () => {\n  const { page } = useZudoku();\n  const footer = page?.footer;\n\n  if (!footer) return null;\n\n  return (\n    <footer className=\"border-t bg-background\">\n      <div className=\"mx-auto max-w-screen-2xl px-4 lg:px-8 py-8 pt-20\">\n        <div\n          className={cn(\"flex flex-row gap-8\", {\n            \"justify-center\": !footer.position || footer.position === \"center\",\n            \"justify-start\": footer.position === \"start\",\n            \"justify-end\": footer.position === \"end\",\n          })}\n        >\n          <Slotlet name=\"footer-before\" />\n          {footer.columns && (\n            <div\n              className=\"w-full md:max-w-screen-md grid grid-cols-[1fr_1fr] gap-8 md:grid-cols-[repeat(var(--columns),minmax(0,1fr))]\"\n              style={{ \"--columns\": footer.columns.length } as CSSProperties}\n            >\n              {footer.columns.map((column) => (\n                <div\n                  className={cn({\n                    \"justify-self-center\":\n                      !column.position || column.position === \"center\",\n                    \"justify-self-start\": column.position === \"start\",\n                    \"justify-self-end\": column.position === \"end\",\n                  })}\n                  key={column.title}\n                >\n                  <span className=\"text-sm font-semibold\">{column.title}</span>\n                  <ul className=\"mt-4 space-y-2\">\n                    {column.links.map((link, i) => {\n                      const className =\n                        \"flex flex-row gap-1 items-center text-sm text-muted-foreground hover:text-accent-foreground\";\n\n                      return (\n                        <li key={link.href + i}>\n                          {isExternalUrl(link.href) ? (\n                            <a\n                              href={link.href}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                              <ExternalLinkIcon size={12} />\n                            </a>\n                          ) : (\n                            <AnchorLink\n                              to={link.href + i}\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                            </AnchorLink>\n                          )}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          )}\n          <Slotlet name=\"footer-after\" />\n        </div>\n        <div\n          className={cn(\n            \"flex items-center justify-between\",\n            footer.columns && \"border-t mt-8 pt-8\",\n          )}\n        >\n          {footer.logo && (\n            <>\n              <img\n                src={footer.logo.src.light}\n                alt={footer.logo.alt}\n                className=\"w-8 dark:hidden\"\n                style={{ width: footer.logo.width }}\n              />\n              <img\n                src={footer.logo.src.dark}\n                alt={footer.logo.alt}\n                className=\"w-8 hidden dark:block\"\n                style={{ width: footer.logo.width }}\n              />\n            </>\n          )}\n          {footer.copyright && (\n            <p className=\"text-sm text-muted-foreground\">{footer.copyright}</p>\n          )}\n          <div className=\"flex items-center gap-2\">\n            {footer.social?.map((social) => (\n              <a\n                key={social.href}\n                href={social.href}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"w-auto gap-2 flex text-muted-foreground hover:text-accent-foreground\"\n              >\n                <SocialIcon icon={social.icon} />\n                {social.label}\n              </a>\n            ))}\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import { cn } from \"../util/cn.js\";\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n","import { CircleXIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"../util/cn.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nconst COLOR_MAP = {\n  info: \"bg-blue-500\",\n  note: \"bg-gray-500\",\n  tip: \"bg-green-600\",\n  caution: \"bg-orange-500\",\n  danger: \"bg-rose-500\",\n} as const;\n\nexport const Banner = () => {\n  const { page } = useZudoku();\n  const [isBannerOpen, setIsBannerOpen] = useState(true);\n\n  if (!page?.banner || !isBannerOpen) {\n    return <style>{`:root { --banner-height: 0px; }`}</style>;\n  }\n\n  const mappedColor =\n    page.banner.color && page.banner.color in COLOR_MAP\n      ? COLOR_MAP[page.banner.color as keyof typeof COLOR_MAP]\n      : !page.banner.color\n        ? \"bg-primary\"\n        : undefined;\n\n  const style = !mappedColor ? { backgroundColor: page.banner.color } : {};\n\n  return (\n    <div\n      className={cn(\n        \"relative text-primary-foreground text-sm font-medium px-4 py-2 flex gap-2 items-center\",\n        mappedColor,\n      )}\n      data-pagefind-ignore=\"all\"\n      style={style}\n    >\n      <div className=\"w-full\">{page.banner.message}</div>\n      {page.banner.dismissible && (\n        <button\n          type=\"button\"\n          className=\"md:absolute md:right-4 -m-1.5 p-1.5 hover:bg-accent-foreground/10 rounded-md\"\n          onClick={() => setIsBannerOpen(false)}\n        >\n          <CircleXIcon size={16} />\n        </button>\n      )}\n    </div>\n  );\n};\n","import * as React from \"react\";\n\nconst ZudokuLogo = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 132 100\"\n    fill=\"none\"\n    {...props}\n  >\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M80.092 2.963A4.66 4.66 0 0 1 84.449 0h34.049c6.325 0 10.835 6.135 8.948 12.172L116.653 46.71a4.688 4.688 0 0 1-4.474 3.29H75c-5.178 0-7.813 4.687-9.375 9.374-1.288 3.864-11.07 28.963-14.467 37.662A4.66 4.66 0 0 1 46.801 100H12.75c-6.324 0-10.834-6.134-8.947-12.171l10.793-34.54A4.688 4.688 0 0 1 19.071 50H56.25c5.178 0 7.813-4.687 9.375-9.375 1.288-3.864 11.07-28.962 14.467-37.662Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      d=\"M83.54 57.813a7.813 7.813 0 0 0-7.316 5.07L63.888 95.777c-.766 2.043.744 4.222 2.926 4.222h36.828c5.211 0 9.875-3.232 11.704-8.11l8.821-23.522c1.915-5.107-1.861-10.555-7.315-10.555H83.539ZM29.17 0a12.5 12.5 0 0 0-11.704 8.111l-8.82 23.521c-1.915 5.107 1.86 10.556 7.315 10.556h33.312a7.813 7.813 0 0 0 7.316-5.07L68.924 4.223C69.691 2.18 68.18 0 65.998 0H29.17Z\"\n    />\n  </svg>\n);\n\nZudokuLogo.displayName = \"ZudokuLogo\";\n\nexport default ZudokuLogo;\n","import { ChevronRightIcon } from \"lucide-react\";\nimport { cn } from \"../../util/cn.js\";\nimport ZudokuLogo from \"./ZudokuLogo.js\";\nimport ZuploLogo from \"./ZuploLogo.js\";\n\nexport const PoweredByZudoku = ({ className }: { className?: string }) => (\n  <a\n    href={import.meta.env.IS_ZUPLO ? \"https://zuplo.com\" : \"https://zudoku.dev\"}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    className={cn(\n      \"flex justify-between items-center w-full border border-transparent hover:border-border rounded-full hover:shadow-sm h-7 px-3 text-nowrap hover:bg-muted/80 transition-all\",\n      className,\n    )}\n  >\n    <div className=\"opacity-70 hover:opacity-100 transition-opacity gap-1.5 text-[11px] font-medium rounded-full h-7 flex items-center text-nowrap\">\n      {import.meta.env.IS_ZUPLO ? (\n        <ZuploLogo className=\"w-3.5 h-3.5 dark:fill-white\" />\n      ) : (\n        <ZudokuLogo className=\"w-3.5 h-3.5 dark:fill-white\" />\n      )}\n      powered by {import.meta.env.IS_ZUPLO ? \"Zuplo\" : \"Zudoku\"}\n    </div>\n    <div className=\"text-xs font-medium opacity-70 hover:text-foreground transition-colors cursor-pointer\">\n      <ChevronRightIcon size={12} absoluteStrokeWidth strokeWidth={1.5} />\n    </div>\n  </a>\n);\n","export function detectOS() {\n  const userAgent = navigator.userAgent.toLowerCase();\n\n  if (userAgent.includes(\"win\")) return \"Windows\";\n  if (userAgent.includes(\"mac\")) return \"macOS\";\n  if (userAgent.includes(\"linux\")) return \"Linux\";\n\n  return undefined;\n}\n","import { SearchIcon } from \"lucide-react\";\nimport { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { isSearchPlugin } from \"../core/plugins.js\";\nimport { detectOS } from \"../util/detectOS.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nexport const Search = ({ className }: { className?: string }) => {\n  const ctx = useZudoku();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onClose = useCallback(() => setIsOpen(false), []);\n\n  useEffect(() => {\n    if (isOpen) {\n      return;\n    }\n\n    function onKeyDown(event: KeyboardEvent) {\n      if (event.key === \"k\" && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        setIsOpen(true);\n      }\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [isOpen, setIsOpen]);\n\n  const searchPlugin = ctx.plugins.find(isSearchPlugin);\n\n  if (!searchPlugin) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n        className=\"flex items-center border border-input hover:bg-accent hover:text-accent-foreground p-4 relative h-8 justify-start rounded-lg bg-background text-sm text-muted-foreground shadow-none w-full sm:w-72\"\n      >\n        <div className=\"flex items-center gap-2 flex-grow\">\n          <SearchIcon size={14} />\n          Search\n        </div>\n        <ClientOnly>\n          <KbdShortcut />\n        </ClientOnly>\n      </button>\n      <Suspense fallback={null}>\n        {searchPlugin.renderSearch({\n          isOpen,\n          onClose,\n        })}\n      </Suspense>\n    </div>\n  );\n};\n\nconst KbdShortcut = () => {\n  const os = detectOS();\n  return (\n    <kbd className=\"absolute right-1.5 hidden h-5 select-none items-center gap-1 rounded-sm border bg-muted px-1.5 font-mono text-[11px] font-medium opacity-100 sm:flex\">\n      {os === \"macOS\" ? \"⌘\" : \"Ctrl\"}+K\n    </kbd>\n  );\n};\n","import { MoonIcon, SunIcon } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { cn } from \"../util/cn.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\n\nexport const ThemeSwitch = () => {\n  const { resolvedTheme, setTheme } = useTheme();\n\n  return (\n    <ClientOnly fallback={<Button variant=\"ghost\" size=\"icon\" />}>\n      <button\n        type=\"button\"\n        className=\"flex rounded-full border p-0.5 gap-0.5 group\"\n        onClick={() => setTheme(resolvedTheme === \"dark\" ? \"light\" : \"dark\")}\n        aria-label={\n          resolvedTheme === \"dark\"\n            ? \"Switch to light mode\"\n            : \"Switch to dark mode\"\n        }\n      >\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 [&>svg>circle]:transition-colors [&>svg>path]:transition-transform transition-all [&>svg>path]:duration-200 [&>svg>circle]:duration-500 [&>svg>circle]:fill-transparent\",\n            resolvedTheme === \"light\" && \"border-border bg-muted\",\n            resolvedTheme === \"dark\" &&\n              \"group-hover:[&>svg>path]:scale-110 group-hover:[&>svg>path]:-translate-x-[1px] group-hover:[&>svg>path]:-translate-y-[1px] group-hover:rotate-[15deg] \",\n          )}\n        >\n          <SunIcon size={16} />\n        </div>\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 transition-transform transform-gpu duration-500\",\n            resolvedTheme === \"dark\" &&\n              \"border-border bg-muted [&>svg>path]:fill-white [&>svg>path]:stroke-transparent\",\n            resolvedTheme === \"light\" &&\n              \"group-hover:rotate-[-10deg] [&>svg>path]:stroke-currentColor\",\n          )}\n        >\n          <MoonIcon size={16} />\n        </div>\n      </button>\n    </ClientOnly>\n  );\n};\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport * as React from 'react';\nimport { useEffect, useRef, useCallback, useState } from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nvar clamp = function clamp(num, lower, upper) {\n  num = num <= upper ? num : upper;\n  num = num >= lower ? num : lower;\n  return num;\n};\n\nvar createQueue = function createQueue() {\n  var isRunning = false;\n  var pending = [];\n  var _next = function next() {\n    isRunning = true;\n    var cb = pending.shift();\n    if (cb) {\n      return cb(_next);\n    }\n    isRunning = false;\n  };\n  var clear = function clear() {\n    isRunning = false;\n    pending = [];\n  };\n  var enqueue = function enqueue(cb) {\n    pending.push(cb);\n    if (!isRunning && pending.length === 1) {\n      _next();\n    }\n  };\n  return {\n    clear: clear,\n    enqueue: enqueue\n  };\n};\n\nvar createTimeout = function createTimeout() {\n  var handle;\n  var cancel = function cancel() {\n    if (handle) {\n      window.cancelAnimationFrame(handle);\n    }\n  };\n  var schedule = function schedule(callback, delay) {\n    var deltaTime;\n    var start;\n    var _frame = function frame(time) {\n      start = start || time;\n      deltaTime = time - start;\n      if (deltaTime > delay) {\n        callback();\n        return;\n      }\n      handle = window.requestAnimationFrame(_frame);\n    };\n    handle = window.requestAnimationFrame(_frame);\n  };\n  return {\n    cancel: cancel,\n    schedule: schedule\n  };\n};\n\nvar increment = function increment(progress) {\n  var amount = 0;\n  if (progress >= 0 && progress < 0.2) {\n    amount = 0.1;\n  } else if (progress >= 0.2 && progress < 0.5) {\n    amount = 0.04;\n  } else if (progress >= 0.5 && progress < 0.8) {\n    amount = 0.02;\n  } else if (progress >= 0.8 && progress < 0.99) {\n    amount = 0.005;\n  }\n  return clamp(progress + amount, 0, 0.994);\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useEffectOnce.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useEffectOnce = function useEffectOnce(effect) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n};\n\nvar incrementParameter = function incrementParameter(num) {\n  return ++num % 1000000;\n};\nvar useUpdate = function useUpdate() {\n  var _useState = useState(0),\n    setState = _useState[1];\n  return useCallback(function () {\n    return setState(incrementParameter);\n  }, []);\n};\nvar useGetSetState = function useGetSetState(/* istanbul ignore next */\ninitialState) {\n  if (initialState === undefined) {\n    initialState = {};\n  }\n  var update = useUpdate();\n  var state = useRef(_extends({}, initialState));\n  var get = useCallback(function () {\n    return state.current;\n  }, []);\n  var set = useCallback(function (patch) {\n    if (!patch) {\n      return;\n    }\n    Object.assign(state.current, patch);\n    update();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [get, set];\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useUpdateEffect.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useFirstMountState = function useFirstMountState() {\n  var isFirst = useRef(true);\n  if (isFirst.current) {\n    isFirst.current = false;\n    return true;\n  }\n  return isFirst.current;\n};\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isFirstMount = useFirstMountState();\n  useEffect(function () {\n    if (!isFirstMount) {\n      return effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\n/* istanbul ignore next */\nvar noop = function noop() {\n  return undefined;\n};\nvar initialState = {\n  isFinished: true,\n  progress: 0,\n  sideEffect: noop\n};\nvar useNProgress = function useNProgress(_temp) {\n  var _ref = _temp === undefined ? {} : _temp,\n    _ref$animationDuratio = _ref.animationDuration,\n    animationDuration = _ref$animationDuratio === undefined ? 200 : _ref$animationDuratio,\n    _ref$incrementDuratio = _ref.incrementDuration,\n    incrementDuration = _ref$incrementDuratio === undefined ? 800 : _ref$incrementDuratio,\n    _ref$isAnimating = _ref.isAnimating,\n    isAnimating = _ref$isAnimating === undefined ? false : _ref$isAnimating,\n    _ref$minimum = _ref.minimum,\n    minimum = _ref$minimum === undefined ? 0.08 : _ref$minimum;\n  var _useGetSetState = useGetSetState(initialState),\n    get = _useGetSetState[0],\n    setState = _useGetSetState[1];\n  var queue = useRef(null);\n  var timeout = useRef(null);\n  useEffectOnce(function () {\n    queue.current = createQueue();\n    timeout.current = createTimeout();\n  });\n  var cleanup = useCallback(function () {\n    var _timeout$current, _queue$current;\n    (_timeout$current = timeout.current) == null || _timeout$current.cancel();\n    (_queue$current = queue.current) == null || _queue$current.clear();\n  }, []);\n  var set = useCallback(function (n) {\n    var _queue$current4;\n    n = clamp(n, minimum, 1);\n    if (n === 1) {\n      var _queue$current2, _queue$current3;\n      cleanup();\n      (_queue$current2 = queue.current) == null || _queue$current2.enqueue(function (next) {\n        setState({\n          progress: n,\n          sideEffect: function sideEffect() {\n            var _timeout$current2;\n            return (_timeout$current2 = timeout.current) == null ? undefined : _timeout$current2.schedule(next, animationDuration);\n          }\n        });\n      });\n      (_queue$current3 = queue.current) == null || _queue$current3.enqueue(function () {\n        setState({\n          isFinished: true,\n          sideEffect: cleanup\n        });\n      });\n      return;\n    }\n    (_queue$current4 = queue.current) == null || _queue$current4.enqueue(function (next) {\n      setState({\n        isFinished: false,\n        progress: n,\n        sideEffect: function sideEffect() {\n          var _timeout$current3;\n          return (_timeout$current3 = timeout.current) == null ? undefined : _timeout$current3.schedule(next, animationDuration);\n        }\n      });\n    });\n  }, [animationDuration, cleanup, minimum, queue, setState, timeout]);\n  var trickle = useCallback(function () {\n    set(increment(get().progress));\n  }, [get, set]);\n  var start = useCallback(function () {\n    var _work = function work() {\n      var _queue$current5;\n      trickle();\n      (_queue$current5 = queue.current) == null || _queue$current5.enqueue(function (next) {\n        var _timeout$current4;\n        (_timeout$current4 = timeout.current) == null || _timeout$current4.schedule(function () {\n          _work();\n          next();\n        }, incrementDuration);\n      });\n    };\n    _work();\n  }, [incrementDuration, queue, timeout, trickle]);\n  var savedTrickle = useRef(noop);\n  var sideEffect = get().sideEffect;\n  useEffect(function () {\n    savedTrickle.current = trickle;\n  });\n  useEffectOnce(function () {\n    if (isAnimating) {\n      start();\n    }\n    return cleanup;\n  });\n  useUpdateEffect(function () {\n    get().sideEffect();\n  }, [get, sideEffect]);\n  useUpdateEffect(function () {\n    if (!isAnimating) {\n      set(1);\n    } else {\n      setState(_extends({}, initialState, {\n        sideEffect: start\n      }));\n    }\n  }, [isAnimating, set, setState, start]);\n  return {\n    animationDuration: animationDuration,\n    isFinished: get().isFinished,\n    progress: get().progress\n  };\n};\n\nvar _excluded = [\"children\"];\nvar NProgress = function NProgress(_ref) {\n  var children = _ref.children,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var renderProps = useNProgress(restProps);\n  return children(renderProps);\n};\n\nfunction withNProgress(BaseComponent) {\n  var WithNProgress = function WithNProgress(props) {\n    var hookProps = useNProgress(props);\n    return /*#__PURE__*/React.createElement(BaseComponent, _extends({}, props, hookProps));\n  };\n  hoistNonReactStatics(WithNProgress, BaseComponent);\n  return WithNProgress;\n}\n\nexport { NProgress, useNProgress, withNProgress };\n//# sourceMappingURL=react-nprogress.esm.js.map\n","import { useNProgress } from \"@tanem/react-nprogress\";\nimport { cx } from \"class-variance-authority\";\nimport { Suspense, useEffect, useState } from \"react\";\nimport { NavLink, useNavigation } from \"react-router\";\nimport type { TopNavigationItem } from \"../../config/validators/common.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useCurrentNavigation, useZudoku } from \"./context/ZudokuContext.js\";\nimport { traverseSidebar } from \"./navigation/utils.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const isHiddenItem =\n  (isAuthenticated?: boolean) =>\n  (item: { display?: \"auth\" | \"anon\" | \"always\" | \"hide\" }): boolean => {\n    if (item.display === \"hide\") return false;\n    return (\n      (item.display === \"auth\" && isAuthenticated) ||\n      (item.display === \"anon\" && !isAuthenticated) ||\n      !item.display ||\n      item.display === \"always\"\n    );\n  };\n\nexport const PageProgress = () => {\n  const navigation = useNavigation();\n  const isNavigating = navigation.state === \"loading\";\n  // delay the animation to avoid flickering\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setIsAnimating(isNavigating), 100);\n\n    return () => clearTimeout(timer);\n  }, [isNavigating]);\n\n  const { isFinished, progress } = useNProgress({ isAnimating });\n\n  return (\n    <div\n      className=\"absolute w-0 left-0 right-0 bottom-[-1px] h-[2px] bg-primary transition-all duration-300 ease-in-out\"\n      style={{\n        opacity: isFinished ? 0 : 1,\n        width: isFinished ? 0 : `${progress * 100}%`,\n      }}\n    />\n  );\n};\n\nexport const TopNavigation = () => {\n  const { topNavigation } = useZudoku();\n  const { isAuthenticated } = useAuth();\n\n  const filteredItems = topNavigation.filter(isHiddenItem(isAuthenticated));\n\n  if (filteredItems.length === 0) {\n    return <style>{`:root { --top-nav-height: 0px; }`}</style>;\n  }\n\n  return (\n    <Suspense>\n      <div className=\"items-center justify-between px-8 h-[--top-nav-height] hidden lg:flex text-sm relative\">\n        <nav className=\"text-sm\">\n          <ul className=\"flex flex-row items-center gap-8\">\n            {filteredItems.map((item) => (\n              <li key={item.id}>\n                <TopNavItem {...item} />\n              </li>\n            ))}\n          </ul>\n        </nav>\n        <Slotlet name=\"top-navigation-side\" />\n      </div>\n      <PageProgress />\n    </Suspense>\n  );\n};\n\nexport const TopNavItem = ({\n  id,\n  label,\n  default: defaultLink,\n}: TopNavigationItem) => {\n  const { sidebars } = useZudoku();\n  const currentSidebar = sidebars[id];\n  const currentNav = useCurrentNavigation();\n  const isNavigating = Boolean(useNavigation().location);\n  const isActive = currentNav.topNavItem?.id === id && !isNavigating;\n\n  // TODO: This is a bit of a hack to get the first link in the sidebar\n  // We should really process this when we load the config so we can validate\n  // that the sidebar is actually set. In this case we just fall back to linking\n  // to the id if we can't resolve a sidebar.\n  const first =\n    defaultLink ??\n    (currentSidebar\n      ? traverseSidebar(currentSidebar, (item) => {\n          if (item.type === \"doc\") return joinUrl(item.id);\n        })\n      : joinUrl(id)) ??\n    joinUrl(id);\n\n  return (\n    // We don't use isActive here because it has to be inside the sidebar,\n    // the top nav id doesn't necessarily start with the sidebar id\n    <NavLink\n      className={({ isPending }) =>\n        cx(\n          \"block lg:py-3.5 font-medium -mb-px\",\n          isActive || isPending\n            ? \"border-primary text-foreground\"\n            : \"border-transparent text-foreground/75 hover:text-foreground hover:border-accent-foreground/25\",\n        )\n      }\n      to={first}\n    >\n      {label}\n    </NavLink>\n  );\n};\n","import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { MenuIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  Drawer,\n  DrawerContent,\n  DrawerTitle,\n  DrawerTrigger,\n} from \"../ui/Drawer.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./navigation/PoweredByZudoku.js\";\nimport { Search } from \"./Search.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { isHiddenItem, PageProgress, TopNavItem } from \"./TopNavigation.js\";\n\nexport const MobileTopNavigation = () => {\n  const { topNavigation, options } = useZudoku();\n  const { isAuthenticated } = useAuth();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n\n  return (\n    <Drawer\n      direction=\"right\"\n      open={drawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      <div className=\"flex lg:hidden justify-self-end\">\n        <DrawerTrigger className=\"lg:hidden\">\n          <MenuIcon size={22} />\n        </DrawerTrigger>\n        <PageProgress />\n      </div>\n      <DrawerContent\n        className=\"lg:hidden h-[100dvh] right-0 left-auto w-[320px] rounded-none\"\n        aria-describedby={undefined}\n      >\n        <div className=\"p-4 overflow-y-auto overscroll-none h-full flex flex-col justify-between\">\n          <div>\n            <VisuallyHidden>\n              <DrawerTitle>Navigation</DrawerTitle>\n            </VisuallyHidden>\n            <Search className=\"flex p-4\" />\n            <ul className=\"flex flex-col items-center gap-4 p-4\">\n              <li>\n                <ThemeSwitch />\n              </li>\n              {topNavigation\n                .filter(isHiddenItem(isAuthenticated))\n                .map((item) => (\n                  <li key={item.label}>\n                    <button type=\"button\" onClick={() => setDrawerOpen(false)}>\n                      <TopNavItem {...item} />\n                    </button>\n                  </li>\n                ))}\n            </ul>\n          </div>\n          {options.page?.showPoweredBy !== false && (\n            <PoweredByZudoku className=\"flex-grow-0 justify-center gap-1\" />\n          )}\n        </div>\n      </DrawerContent>\n    </Drawer>\n  );\n};\n","import { memo } from \"react\";\nimport { Link } from \"react-router\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { Skeleton } from \"zudoku/ui/Skeleton.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  isProfileMenuPlugin,\n  type ProfileNavigationItem,\n} from \"../core/plugins.js\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"../ui/DropdownMenu.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { Banner } from \"./Banner.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { MobileTopNavigation } from \"./MobileTopNavigation.js\";\nimport { Search } from \"./Search.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { TopNavigation } from \"./TopNavigation.js\";\n\nconst RecursiveMenu = ({ item }: { item: ProfileNavigationItem }) => {\n  return item.children ? (\n    <DropdownMenuSub key={item.label}>\n      <DropdownMenuSubTrigger>{item.label}</DropdownMenuSubTrigger>\n      <DropdownMenuPortal>\n        <DropdownMenuSubContent>\n          {item.children.map((item, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <RecursiveMenu key={i} item={item} />\n          ))}\n        </DropdownMenuSubContent>\n      </DropdownMenuPortal>\n    </DropdownMenuSub>\n  ) : (\n    <Link to={item.path ?? \"\"}>\n      <DropdownMenuItem key={item.label} className=\"flex gap-2\">\n        {item.icon && (\n          <item.icon size={16} strokeWidth={1} absoluteStrokeWidth />\n        )}\n        {item.label}\n      </DropdownMenuItem>\n    </Link>\n  );\n};\n\nexport const Header = memo(function HeaderInner() {\n  const auth = useAuth();\n  const { isAuthenticated, profile, isAuthEnabled } = useAuth();\n  const context = useZudoku();\n  const { page, plugins } = context;\n\n  const accountItems = plugins\n    .filter((p) => isProfileMenuPlugin(p))\n    .flatMap((p) => p.getProfileMenuItems(context))\n    .sort((i) => i.weight ?? 0);\n\n  return (\n    <header className=\"sticky lg:top-0 z-10 bg-background/80 backdrop-blur w-full\">\n      <Banner />\n      <div className=\"border-b\">\n        <div className=\"max-w-screen-2xl mx-auto flex relative items-center justify-between px-4 lg:px-8 h-[--top-header-height] border-transparent\">\n          <div className=\"flex\">\n            <Link to=\"/\">\n              <div className=\"flex items-center gap-3.5\">\n                {page?.logo && (\n                  <>\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.light)\n                          ? page.logo.src.light\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.light,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 dark:hidden\"\n                      loading=\"lazy\"\n                    />\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.dark)\n                          ? page.logo.src.dark\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.dark,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 hidden dark:block\"\n                      loading=\"lazy\"\n                    />\n                  </>\n                )}\n                <span className=\"font-bold text-2xl text-foreground/85 tracking-wide\">\n                  {page?.pageTitle}\n                </span>\n              </div>\n            </Link>\n          </div>\n\n          <div className=\"absolute inset-x-0 justify-center items-center hidden lg:flex w-full pointer-events-none\">\n            <Search className=\"pointer-events-auto\" />\n          </div>\n\n          <div className=\"flex items-center gap-8\">\n            <MobileTopNavigation />\n            <div className=\"hidden lg:flex items-center justify-self-end text-sm gap-2\">\n              <Slotlet name=\"head-navigation-start\" />\n              {isAuthEnabled && (\n                <ClientOnly\n                  fallback={<Skeleton className=\"rounded h-5 w-24 mr-4\" />}\n                >\n                  {!isAuthenticated ? (\n                    <Button variant=\"ghost\" onClick={() => auth.login()}>\n                      Login\n                    </Button>\n                  ) : (\n                    Object.values(accountItems).length > 0 && (\n                      <DropdownMenu modal={false}>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\">\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent className=\"w-56\">\n                          <DropdownMenuLabel>\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                            {profile?.email && (\n                              <div className=\"font-normal text-muted-foreground\">\n                                {profile.email}\n                              </div>\n                            )}\n                          </DropdownMenuLabel>\n                          {accountItems.filter((i) => i.category === \"top\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"top\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter(\n                            (i) => !i.category || i.category === \"middle\",\n                          ).length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter(\n                              (i) => !i.category || i.category === \"middle\",\n                            )\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter((i) => i.category === \"bottom\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"bottom\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )\n                  )}\n                </ClientOnly>\n              )}\n              <Slotlet name=\"head-navigation-end\" />\n              <ThemeSwitch />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"border-b hidden lg:block\">\n        <div className=\"max-w-screen-2xl mx-auto border-transparent\">\n          <Slotlet name=\"top-navigation-before\" />\n          <TopNavigation />\n          <Slotlet name=\"top-navigation-after\" />\n        </div>\n      </div>\n    </header>\n  );\n});\n","import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\nimport { cn } from \"../util/cn.js\";\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger: typeof DrawerPrimitive.Trigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal: typeof DrawerPrimitive.Portal = DrawerPrimitive.Portal;\n\nconst DrawerClose: typeof DrawerPrimitive.Close = DrawerPrimitive.Close;\n\nconst DrawerOverlay: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Overlay>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content> & {\n    hideBar?: boolean;\n  } & React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Content>>\n> = React.forwardRef(\n  ({ className, children, hideBar = true, ...props }, ref) => (\n    <DrawerPortal>\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        ref={ref}\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n          className,\n        )}\n        {...props}\n      >\n        {!hideBar && (\n          <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n        )}\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  ),\n);\n\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Title>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className,\n    )}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Description>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerPortal,\n  DrawerTitle,\n  DrawerTrigger,\n};\n","import { useEffect, useRef, type PropsWithChildren } from \"react\";\nimport { cn } from \"../../util/cn.js\";\nimport { scrollIntoViewIfNeeded } from \"../../util/scrollIntoViewIfNeeded.js\";\nimport { useZudoku } from \"../context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./PoweredByZudoku.js\";\n\nexport const SidebarWrapper = ({\n  children,\n  className,\n}: PropsWithChildren<{\n  className?: string;\n}>) => {\n  const { options } = useZudoku();\n  const navRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const active = navRef.current?.querySelector('[aria-current=\"page\"]');\n    scrollIntoViewIfNeeded(active ?? null);\n  }, []);\n\n  return (\n    <div className=\"grid sticky top-[--header-height] lg:h-[calc(100vh-var(--header-height))] grid-rows-[1fr_min-content] border-r\">\n      <nav\n        ref={navRef}\n        className={cn(\n          \"hidden max-w-[calc(var(--side-nav-width)+var(--padding-nav-item))] lg:flex scrollbar flex-col overflow-y-auto shrink-0 text-sm pe-3 ps-4 lg:ps-8\",\n          \"-mx-[--padding-nav-item] pb-[8vh] pt-[--padding-content-top] scroll-pt-2 gap-1\",\n          // Revert the padding/margin on the first child\n          \"-mt-2.5\",\n          className,\n        )}\n        style={{\n          maskImage: `linear-gradient(180deg, transparent 1%, rgba(0, 0, 0, 1) 20px, rgba(0, 0, 0, 1) 90%, transparent 99%)`,\n        }}\n      >\n        {children}\n      </nav>\n\n      <div className=\"bg-background border-t p-2 mx-5  gap-2 items-center mt-2 drop-shadow-[0_-3px_1px_rgba(0,0,0,0.015)] hidden lg:[&:has(>_:nth-child(1):last-child)]:flex\">\n        {options.page?.showPoweredBy !== false && <PoweredByZudoku />}\n      </div>\n    </div>\n  );\n};\n\nSidebarWrapper.displayName = \"SidebarWrapper\";\n","import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport type { SidebarItem as SidebarItemType } from \"../../../config/validators/SidebarSchema.js\";\nimport { DrawerContent, DrawerTitle } from \"../../ui/Drawer.js\";\nimport { Slotlet } from \"../SlotletProvider.js\";\nimport { SidebarItem } from \"./SidebarItem.js\";\nimport { SidebarWrapper } from \"./SidebarWrapper.js\";\n\nexport const Sidebar = ({\n  onRequestClose,\n  sidebar,\n}: {\n  onRequestClose?: () => void;\n  sidebar: SidebarItemType[];\n}) => (\n  <>\n    <SidebarWrapper>\n      <Slotlet name=\"zudoku-before-navigation\" />\n      {sidebar.map((item) => (\n        <SidebarItem\n          key={\n            (\"id\" in item ? item.id : \"\") +\n            (\"href\" in item ? item.href : \"\") +\n            item.label\n          }\n          item={item}\n        />\n      ))}\n      <Slotlet name=\"zudoku-after-navigation\" />\n    </SidebarWrapper>\n    <DrawerContent\n      className=\"lg:hidden h-[100dvh] left-0 w-[320px] rounded-none\"\n      aria-describedby={undefined}\n    >\n      <div className=\"p-4 overflow-y-auto overscroll-none\">\n        <VisuallyHidden>\n          <DrawerTitle>Sidebar</DrawerTitle>\n        </VisuallyHidden>\n        {sidebar.map((item) => (\n          <SidebarItem\n            key={item.label}\n            item={item}\n            onRequestClose={onRequestClose}\n          />\n        ))}\n      </div>\n    </DrawerContent>\n  </>\n);\n","import { PanelLeftIcon } from \"lucide-react\";\nimport { type PropsWithChildren, useState } from \"react\";\nimport { useNavigation } from \"react-router\";\nimport { Drawer, DrawerTrigger } from \"zudoku/ui/Drawer.js\";\nimport { cn } from \"../util/cn.js\";\nimport { useCurrentNavigation } from \"./context/ZudokuContext.js\";\nimport { Sidebar } from \"./navigation/Sidebar.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const Main = ({ children }: PropsWithChildren) => {\n  const [isDrawerOpen, setDrawerOpen] = useState(false);\n  const { sidebar } = useCurrentNavigation();\n  const hasSidebar = sidebar.length > 0;\n  const isNavigating = useNavigation().state === \"loading\";\n\n  return (\n    <Drawer\n      direction=\"left\"\n      open={isDrawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      {hasSidebar && (\n        <Sidebar\n          onRequestClose={() => setDrawerOpen(false)}\n          sidebar={sidebar}\n        />\n      )}\n      {hasSidebar && (\n        <div className=\"lg:hidden -mx-4 px-4 py-2 sticky bg-background/80 backdrop-blur z-10 top-0 left-0 right-0 border-b\">\n          <DrawerTrigger className=\"flex items-center gap-2 px-4\">\n            <PanelLeftIcon size={16} strokeWidth={1.5} />\n            <span className=\"text-sm\">Menu</span>\n          </DrawerTrigger>\n        </div>\n      )}\n      <main\n        data-pagefind-body\n        className={cn(\n          \"px-4 lg:pe-8 lg:px-8\",\n          !hasSidebar && \"col-span-full\",\n          isNavigating && \"animate-pulse\",\n        )}\n      >\n        <Slotlet name=\"zudoku-before-content\" />\n        {children}\n        <Slotlet name=\"zudoku-after-content\" />\n      </main>\n    </Drawer>\n  );\n};\n","import { Helmet } from \"@zudoku/react-helmet-async\";\nimport { Suspense, useEffect, type ReactNode } from \"react\";\nimport { Outlet, useLocation } from \"react-router\";\nimport { cn } from \"../util/cn.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useScrollToAnchor } from \"../util/useScrollToAnchor.js\";\nimport { useScrollToTop } from \"../util/useScrollToTop.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { Footer } from \"./Footer.js\";\nimport { Header } from \"./Header.js\";\nimport { Main } from \"./Main.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { Spinner } from \"./Spinner.js\";\n\nconst LoadingFallback = () => (\n  <main className=\"col-span-full row-span-full grid place-items-center\">\n    <Spinner />\n  </main>\n);\n\nexport const Layout = ({ children }: { children?: ReactNode }) => {\n  const { meta, authentication, options } = useZudoku();\n  const location = useLocation();\n\n  useScrollToAnchor();\n  useScrollToTop();\n\n  useEffect(() => {\n    // Initialize the authentication plugin\n    authentication?.onPageLoad?.();\n  }, [authentication]);\n\n  return (\n    <>\n      {import.meta.env.MODE === \"standalone\" && (\n        <style>{`:root { --top-nav-height: 0px; }`}</style>\n      )}\n      <Helmet titleTemplate={meta?.title}>\n        {options.canonicalUrlOrigin && (\n          <link\n            rel=\"canonical\"\n            href={joinUrl(\n              options.canonicalUrlOrigin,\n              options.basePath,\n              location.pathname,\n            )}\n          />\n        )}\n        {meta?.description && (\n          <meta name=\"description\" content={meta.description} />\n        )}\n        {meta?.favicon && <link rel=\"icon\" href={meta.favicon} />}\n      </Helmet>\n      <Slotlet name=\"layout-before-head\" />\n      <Header />\n      <Slotlet name=\"layout-after-head\" />\n\n      <div\n        className={cn(\n          \"grid max-w-screen-2xl w-full lg:mx-auto\",\n          \"has-[:only-child]:grid-rows-1 grid-rows-[0_min-content_1fr] lg:grid-rows-[min-content_1fr]\",\n          \"grid-cols-1 lg:grid-cols-[var(--side-nav-width)_1fr]\",\n        )}\n      >\n        <Suspense fallback={<LoadingFallback />}>\n          <Main>{children ?? <Outlet />}</Main>\n        </Suspense>\n      </div>\n      <Footer />\n    </>\n  );\n};\n","import type { ReactNode } from \"react\";\nimport { CategoryHeading } from \"./CategoryHeading.js\";\nimport { Heading } from \"./Heading.js\";\nimport { ProseClasses } from \"./Markdown.js\";\n\nexport const ErrorPage = ({\n  title = \"An error occurred\",\n  message,\n  category,\n}: {\n  title?: ReactNode;\n  message?: ReactNode;\n  category?: ReactNode;\n}) => {\n  return (\n    <div className={ProseClasses + \" h-full pt-[--padding-content-top]\"}>\n      {category && <CategoryHeading>{category}</CategoryHeading>}\n      {title && (\n        <Heading level={1} className=\"flex gap-3.5 items-center\">\n          {title}\n        </Heading>\n      )}\n      <p>{message}</p>\n    </div>\n  );\n};\n","import type { ReactNode } from \"react\";\nimport { ErrorPage } from \"./ErrorPage.js\";\n\ntype StatusPageProps = {\n  statusCode: number;\n  message?: ReactNode;\n};\n\nconst getDefaultContent = (\n  statusCode: number,\n): { title: string; message: string } => {\n  switch (statusCode) {\n    case 400:\n      return {\n        title: \"Bad Request\",\n        message:\n          \"The request could not be understood by the server due to malformed syntax.\",\n      };\n    case 403:\n      return {\n        title: \"Forbidden\",\n        message: \"You don't have permission to access this resource.\",\n      };\n    case 404:\n      return {\n        title: \"Not Found\",\n        message: \"The requested resource could not be found.\",\n      };\n    case 405:\n      return {\n        title: \"Method Not Allowed\",\n        message:\n          \"The request method is not supported for the requested resource.\",\n      };\n    case 414:\n      return {\n        title: \"Request URI Too Large\",\n        message: \"The request URI is too large.\",\n      };\n    case 416:\n      return {\n        title: \"Range Not Satisfiable\",\n        message: \"The server cannot satisfy the request range.\",\n      };\n    case 500:\n      return {\n        title: \"Internal Server Error\",\n        message: \"An unexpected error occurred while processing your request.\",\n      };\n    case 501:\n      return {\n        title: \"Not Implemented\",\n        message:\n          \"The server does not support the functionality required to fulfill the request.\",\n      };\n    case 502:\n      return {\n        title: \"Bad Gateway\",\n        message:\n          \"The server received an invalid response from the upstream server.\",\n      };\n    case 503:\n      return {\n        title: \"Service Unavailable\",\n        message: \"The server is temporarily unable to handle the request.\",\n      };\n    case 504:\n      return {\n        title: \"Gateway Timeout\",\n        message:\n          \"The server did not receive a timely response from the upstream server.\",\n      };\n    default:\n      return {\n        title: \"An error occurred\",\n        message: \"Something went wrong while processing your request.\",\n      };\n  }\n};\n\nexport const StatusPage = ({ statusCode, message }: StatusPageProps) => {\n  const defaultContent = getDefaultContent(statusCode);\n\n  return (\n    <ErrorPage\n      title={defaultContent.title}\n      message={message ?? defaultContent.message}\n      category={statusCode}\n    />\n  );\n};\n","'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let callbacks = this.events[event] || [],\n        i = 0,\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n","import type { QueryClient } from \"@tanstack/react-query\";\nimport { createNanoEvents } from \"nanoevents\";\nimport type { ReactNode } from \"react\";\nimport type { Location } from \"react-router\";\nimport type { z } from \"zod\";\nimport type {\n  FooterSchema,\n  TopNavigationItem,\n} from \"../../config/validators/common.js\";\nimport type { SidebarConfig } from \"../../config/validators/SidebarSchema.js\";\nimport type { AuthenticationProvider } from \"../authentication/authentication.js\";\nimport { type AuthState, useAuthState } from \"../authentication/state.js\";\nimport type { ComponentsContextType } from \"../components/context/ComponentsContext.js\";\nimport type { Slotlets } from \"../components/SlotletProvider.js\";\nimport { joinPath } from \"../util/joinPath.js\";\nimport type { MdxComponentsType } from \"../util/MdxComponents.js\";\nimport { objectEntries } from \"../util/objectEntries.js\";\nimport {\n  isApiIdentityPlugin,\n  isEventConsumerPlugin,\n  isNavigationPlugin,\n  type NavigationPlugin,\n  needsInitialization,\n  type ZudokuPlugin,\n} from \"./plugins.js\";\n\nexport interface ZudokuEvents {\n  location: (event: { from?: Location; to: Location }) => void;\n  auth: (auth: { prev: AuthState; next: AuthState }) => void;\n}\n\nexport interface ApiIdentity {\n  authorizeRequest: (request: Request) => Promise<Request> | Request;\n  authorizationFields?: {\n    headers?: string[];\n    queryParams?: string[];\n  };\n  label: string;\n  id: string;\n}\n\nexport type ApiKeyCache = \"api-keys\";\n\ntype Metadata = Partial<{\n  title: string;\n  description: string;\n  logo: string;\n  favicon: string;\n  generator: string;\n  applicationName: string;\n  referrer: string;\n  keywords: string[];\n  authors: string[];\n  creator: string;\n  publisher: string;\n}>;\n\ntype Page = Partial<{\n  showPoweredBy: boolean;\n  pageTitle?: string;\n  logo?: {\n    src: {\n      light: string;\n      dark: string;\n    };\n    width?: string | number;\n    alt?: string;\n  };\n  banner?: {\n    message: ReactNode;\n    color?: \"note\" | \"tip\" | \"info\" | \"caution\" | \"danger\" | (string & {});\n    dismissible?: boolean;\n  };\n  footer?: z.infer<typeof FooterSchema>;\n}>;\n\nexport type ZudokuContextOptions = {\n  basePath?: string;\n  canonicalUrlOrigin?: string;\n  metadata?: Metadata;\n  page?: Page;\n  authentication?: AuthenticationProvider;\n  topNavigation?: TopNavigationItem[];\n  sidebars?: SidebarConfig;\n  plugins?: ZudokuPlugin[];\n  slotlets?: Slotlets;\n  mdx?: {\n    components?: MdxComponentsType;\n  };\n  overrides?: ComponentsContextType;\n  protectedRoutes?: string[];\n};\n\nexport class ZudokuContext {\n  public plugins: NonNullable<ZudokuContextOptions[\"plugins\"]>;\n  public sidebars: SidebarConfig;\n  public topNavigation: NonNullable<ZudokuContextOptions[\"topNavigation\"]>;\n  public meta: ZudokuContextOptions[\"metadata\"];\n  public page: ZudokuContextOptions[\"page\"];\n  public authentication?: ZudokuContextOptions[\"authentication\"];\n  private readonly navigationPlugins: NavigationPlugin[];\n  private emitter = createNanoEvents<ZudokuEvents>();\n\n  constructor(\n    public readonly options: ZudokuContextOptions,\n    public readonly queryClient: QueryClient,\n  ) {\n    this.plugins = options.plugins ?? [];\n    this.topNavigation = options.topNavigation ?? [];\n    this.sidebars = options.sidebars ?? {};\n    this.navigationPlugins = this.plugins.filter(isNavigationPlugin);\n    this.authentication = options.authentication;\n    this.meta = options.metadata;\n    this.page = options.page;\n    this.plugins.forEach((plugin) => {\n      if (!isEventConsumerPlugin(plugin)) return;\n\n      objectEntries(plugin.events).forEach(([event, handler]) => {\n        this.emitter.on(event, handler!);\n      });\n    });\n\n    useAuthState.subscribe((state, prevState) => {\n      this.emitEvent(\"auth\", {\n        prev: prevState,\n        next: state,\n      });\n    });\n  }\n\n  initialize = async (): Promise<void> => {\n    await Promise.all(\n      this.plugins\n        .filter(needsInitialization)\n        .map((plugin) => plugin.initialize?.(this)),\n    );\n  };\n\n  getApiIdentities = async () => {\n    const keys = await Promise.all(\n      this.plugins\n        .filter(isApiIdentityPlugin)\n        .map((plugin) => plugin.getIdentities(this)),\n    );\n\n    return keys.flat();\n  };\n\n  addEventListener<E extends keyof ZudokuEvents>(\n    event: E,\n    callback: ZudokuEvents[E],\n  ) {\n    return this.emitter.on(event, callback);\n  }\n\n  emitEvent = <E extends keyof ZudokuEvents>(\n    event: E,\n    ...data: Parameters<ZudokuEvents[E]>\n  ) => {\n    return this.emitter.emit(event, ...data);\n  };\n\n  getPluginSidebar = async (path: string) => {\n    const navigations = await Promise.all(\n      this.navigationPlugins.map((plugin) =>\n        plugin.getSidebar?.(joinPath(path), this),\n      ),\n    );\n\n    return navigations.flatMap((nav) => nav ?? []);\n  };\n\n  signRequest = async (request: Request) => {\n    if (!this.authentication) {\n      throw new Error(\"No authentication provider configured\");\n    }\n\n    return await this.authentication.signRequest(request);\n  };\n}\n","import { FallbackProps } from \"react-error-boundary\";\nimport { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function TopLevelError({ error, resetErrorBoundary }: FallbackProps) {\n  // Call resetErrorBoundary() to reset the error boundary and retry the render.\n\n  return <ErrorAlert error={error} />;\n}\n","const root = globalThis;\n\nif (!root.requestIdleCallback || !root.cancelIdleCallback) {\n  root.requestIdleCallback = (cb: IdleRequestCallback) => setTimeout(cb, 1);\n  root.cancelIdleCallback = clearTimeout;\n}\n","import {\n  createContext,\n  useContext,\n  type ComponentProps,\n  type ComponentType,\n} from \"react\";\nimport { Header } from \"../Header.js\";\n\nexport const DEFAULT_COMPONENTS = {\n  Header,\n};\n\nexport type ComponentsContextType = {\n  Header?: ComponentType<ComponentProps<typeof Header>>;\n};\n\nconst ComponentsContext =\n  createContext<Required<ComponentsContextType>>(DEFAULT_COMPONENTS);\n\nexport const ComponentsProvider = ComponentsContext.Provider;\n\nexport const useComponents = () => {\n  return useContext(ComponentsContext);\n};\n","import { useEffect, useRef } from \"react\";\nimport { useLocation, type Location } from \"react-router\";\nimport { useZudoku } from \"./ZudokuContext.js\";\n\nexport const RouterEventsEmitter = () => {\n  const location = useLocation();\n  const zudoku = useZudoku();\n  const previousLocation = useRef<Location | undefined>(undefined);\n\n  useEffect(() => {\n    zudoku.emitEvent(\"location\", {\n      from: previousLocation.current,\n      to: location,\n    });\n    previousLocation.current = location;\n  }, [zudoku, location]);\n\n  return null;\n};\n","import { useSuspenseQuery } from \"@tanstack/react-query\";\nimport type { PropsWithChildren } from \"react\";\nimport { ZudokuContext } from \"../../core/ZudokuContext.js\";\nimport { ZudokuReactContext } from \"./ZudokuContext.js\";\n\nexport const ZudokuProvider = ({\n  children,\n  context,\n}: PropsWithChildren<{ context: ZudokuContext }>) => {\n  useSuspenseQuery({\n    queryFn: async () => {\n      await context.initialize();\n      return true;\n    },\n    queryKey: [\"zudoku-initialize\"],\n  });\n\n  return (\n    <ZudokuReactContext.Provider value={context}>\n      {children}\n    </ZudokuReactContext.Provider>\n  );\n};\n","import { MDXProvider } from \"@mdx-js/react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { ThemeProvider } from \"next-themes\";\nimport {\n  memo,\n  type PropsWithChildren,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Outlet, useLocation, useNavigation } from \"react-router\";\nimport { hasHead, isMdxProviderPlugin } from \"../core/plugins.js\";\nimport {\n  ZudokuContext,\n  type ZudokuContextOptions,\n} from \"../core/ZudokuContext.js\";\nimport { TopLevelError } from \"../errors/TopLevelError.js\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { MdxComponents } from \"../util/MdxComponents.js\";\nimport \"../util/requestIdleCallbackPolyfill.js\";\nimport {\n  ComponentsProvider,\n  DEFAULT_COMPONENTS,\n} from \"./context/ComponentsContext.js\";\nimport { RouterEventsEmitter } from \"./context/RouterEventsEmitter.js\";\nimport { ViewportAnchorProvider } from \"./context/ViewportAnchorContext.js\";\nimport { ZudokuProvider } from \"./context/ZudokuProvider.js\";\nimport { SlotletProvider } from \"./SlotletProvider.js\";\n\nlet zudokuContext: ZudokuContext | undefined;\n\nconst ZudokoInner = memo(\n  ({ children, ...props }: PropsWithChildren<ZudokuContextOptions>) => {\n    const components = useMemo(\n      () => ({ ...DEFAULT_COMPONENTS, ...props.overrides }),\n      [props.overrides],\n    );\n\n    const location = useLocation();\n    const mdxComponents = useMemo(() => {\n      const componentsFromPlugins = (props.plugins ?? [])\n        .filter(isMdxProviderPlugin)\n        .flatMap((plugin) =>\n          plugin.getMdxComponents ? [plugin.getMdxComponents()] : [],\n        );\n\n      return {\n        ...componentsFromPlugins.reduce(\n          (acc, curr) => ({ ...acc, ...curr }),\n          {},\n        ),\n        ...MdxComponents,\n        ...props.mdx?.components,\n      };\n    }, [props.mdx?.components, props.plugins]);\n    const { stagger } = useContext(StaggeredRenderContext);\n    const [didNavigate, setDidNavigate] = useState(false);\n    const staggeredValue = useMemo(\n      () => (didNavigate ? { stagger: true } : { stagger }),\n      [stagger, didNavigate],\n    );\n    const navigation = useNavigation();\n    const queryClient = useQueryClient();\n\n    useEffect(() => {\n      if (didNavigate) {\n        return;\n      }\n      setDidNavigate(true);\n    }, [didNavigate, navigation.location]);\n\n    zudokuContext ??= new ZudokuContext(props, queryClient);\n\n    const heads = props.plugins\n      ?.flatMap((plugin) =>\n        hasHead(plugin) ? (plugin.getHead?.({ location }) ?? []) : [],\n      )\n      // eslint-disable-next-line react/no-array-index-key\n      .map((entry, i) => <Helmet key={i}>{entry}</Helmet>);\n\n    return (\n      <>\n        {heads}\n        <StaggeredRenderContext.Provider value={staggeredValue}>\n          <ZudokuProvider context={zudokuContext}>\n            <RouterEventsEmitter />\n            <MDXProvider components={mdxComponents}>\n              <ThemeProvider attribute=\"class\" disableTransitionOnChange>\n                <ComponentsProvider value={components}>\n                  <SlotletProvider slotlets={props.slotlets}>\n                    <ViewportAnchorProvider>\n                      {children ?? <Outlet />}\n                    </ViewportAnchorProvider>\n                  </SlotletProvider>\n                </ComponentsProvider>\n              </ThemeProvider>\n            </MDXProvider>\n          </ZudokuProvider>\n        </StaggeredRenderContext.Provider>\n      </>\n    );\n  },\n);\n\nZudokoInner.displayName = \"ZudokoInner\";\n\nconst Zudoku = (props: ZudokuContextOptions) => {\n  return (\n    <ErrorBoundary FallbackComponent={TopLevelError}>\n      <ZudokoInner {...props} />\n    </ErrorBoundary>\n  );\n};\nZudoku.displayName = \"Zudoku\";\n\nexport { Zudoku };\n","import { useMDXComponents as useMDXComponentsImport } from \"@mdx-js/react\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { useTheme as useThemeImport } from \"next-themes\";\nimport { Link as LinkImport } from \"react-router\";\nimport { useAuth as useAuthImport } from \"../authentication/hook.js\";\nimport { RouteGuard as RouteGuardImport } from \"../core/RouteGuard.js\";\nimport { RouterError as RouterErrorImport } from \"../errors/RouterError.js\";\nimport { ServerError as ServerErrorImport } from \"../errors/ServerError.js\";\nimport { Button as ButtonImport } from \"../ui/Button.js\";\nimport { Callout as CalloutImport } from \"../ui/Callout.js\";\nimport {\n  Bootstrap as BootstrapImport,\n  BootstrapStatic as BootstrapStaticImport,\n} from \"./Bootstrap.js\";\nimport { BuildCheck as BuildCheckImport } from \"./BuildCheck.js\";\nimport {\n  CACHE_KEYS as CACHE_KEYS_IMPORT,\n  useCache as useCacheImport,\n} from \"./cache.js\";\nimport { ClientOnly as ClientOnlyImport } from \"./ClientOnly.js\";\nimport { useZudoku as useZudokuImport } from \"./context/ZudokuContext.js\";\nimport { Layout as LayoutImport } from \"./Layout.js\";\nimport { Markdown as MarkdownImport } from \"./Markdown.js\";\nimport { Spinner as SpinnerImport } from \"./Spinner.js\";\nimport { StatusPage as StatusPageImport } from \"./StatusPage.js\";\nimport { Zudoku as ZudokuImport } from \"./Zudoku.js\";\n\nexport const useMDXComponents = /*@__PURE__*/ useMDXComponentsImport;\nexport const Layout = /*@__PURE__*/ LayoutImport;\nexport const RouterError = /*@__PURE__*/ RouterErrorImport;\nexport const ServerError = /*@__PURE__*/ ServerErrorImport;\nexport const Bootstrap = /*@__PURE__*/ BootstrapImport;\nexport const BootstrapStatic = /*@__PURE__*/ BootstrapStaticImport;\nexport const RouteGuard = /*@__PURE__*/ RouteGuardImport;\n\nexport const Head = /*@__PURE__*/ Helmet;\n\nexport const useZudoku = /*@__PURE__*/ useZudokuImport;\nexport const useAuth = /*@__PURE__*/ useAuthImport;\nexport const useCache = /*@__PURE__*/ useCacheImport;\nexport const CACHE_KEYS = /*@__PURE__*/ CACHE_KEYS_IMPORT;\nexport const Zudoku = /*@__PURE__*/ ZudokuImport;\n\nexport const StatusPage = /*@__PURE__*/ StatusPageImport;\nexport const Callout = /*@__PURE__*/ CalloutImport;\nexport const Markdown = /*@__PURE__*/ MarkdownImport;\nexport const Spinner = /*@__PURE__*/ SpinnerImport;\nexport const ClientOnly = /*@__PURE__*/ ClientOnlyImport;\nexport const Button = /*@__PURE__*/ ButtonImport;\nexport const Link = /*@__PURE__*/ LinkImport;\nexport const useTheme = /*@__PURE__*/ useThemeImport;\nexport const BuildCheck = /*@__PURE__*/ BuildCheckImport;\n"],"names":["emptyComponents","MDXContext","React","useMDXComponents","components","contextComponents","MDXProvider","properties","allComponents","QueryCache","_a","Subscribable","config","__privateAdd","_queries","__privateSet","client","options","state","queryKey","queryHash","hashQueryKeyByOptions","query","Query","__privateGet","queryInMap","notifyManager","filters","defaultedFilters","matchQuery","queries","event","listener","MutationCache","_mutations","_scopes","_mutationId","mutation","Mutation","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","m","foundMutation","matchMutation","pausedMutations","x","noop","infiniteQueryBehavior","pages","context","direction","_c","_b","oldPages","_d","oldPageParams","_e","result","currentPage","fetchFn","cancelled","addSignalProperty","object","queryFn","ensureQueryFn","fetchPage","data","param","previous","queryFnContext","page","maxPages","addTo","addToStart","addToEnd","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","_queryCache","_mutationCache","_defaultOptions","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","focusManager","focused","onlineManager","online","defaultedOptions","cachedData","resolveStaleTime","updater","prevData","functionalUpdate","queryCache","cancelOptions","defaultedCancelOptions","promises","fetchOptions","promise","hashKey","defaults","queryDefault","partialMatchKey","mutationKey","skipToken","defaultTransformerFn","hydrate","dehydratedState","mutationCache","deserializeData","mutations","mutationOptions","meta","_ignored","serializedState","initialPromise","hasProperty","obj","key","HydrationBoundary","children","queryClient","useQueryClient","hydrationQueue","setHydrationQueue","optionsRef","newQueries","existingQueries","dehydratedQuery","existingQuery","hydrationIsNewer","queryAlreadyQueued","prev","ServerError","error","jsx","ErrorAlert","RouterProvider2","props","RouterProvider","ReactDOM","StaggeredRenderContext","createContext","Bootstrap","router","StrictMode","QueryClientProvider","BypassProtectedRoutesContext","HelmetProvider","BootstrapStatic","helmetContext","bypassProtection","StaticRouterProvider","util","val","assertIs","_arg","assertNever","_x","items","item","validKeys","k","filtered","e","keys","arr","checker","joinValues","array","separator","_","value","objectUtil","first","second","ZodParsedType","getParsedType","ZodIssueCode","quotelessJson","ZodError","issues","sub","subs","actualProto","_mapper","mapper","issue","fieldErrors","processError","curr","i","el","formErrors","errorMap","_ctx","message","overrideErrorMap","setErrorMap","map","getErrorMap","makeIssue","params","path","errorMaps","issueData","fullPath","fullIssue","errorMessage","maps","EMPTY_PATH","addIssueToContext","ctx","overrideMap","ParseStatus","status","results","arrayValue","s","INVALID","pairs","syncPairs","pair","finalObject","DIRTY","OK","isAborted","isDirty","isValid","isAsync","__classPrivateFieldGet","receiver","kind","f","__classPrivateFieldSet","errorUtil","_ZodEnum_cache","_ZodNativeEnum_cache","ParseInputLazyPath","parent","handleResult","processCreateParams","invalid_type_error","required_error","description","iss","ZodType","input","err","maybeAsyncResult","check","getIssueProperties","setError","refinementData","refinement","ZodEffects","ZodFirstPartyTypeKind","def","ZodOptional","ZodNullable","ZodArray","ZodPromise","option","ZodUnion","incoming","ZodIntersection","transform","defaultValueFunc","ZodDefault","ZodBranded","catchValueFunc","ZodCatch","This","target","ZodPipeline","ZodReadonly","cuidRegex","cuid2Regex","ulidRegex","uuidRegex","nanoidRegex","jwtRegex","durationRegex","emailRegex","_emojiRegex","emojiRegex","ipv4Regex","ipv4CidrRegex","ipv6Regex","ipv6CidrRegex","base64Regex","base64urlRegex","dateRegexSource","dateRegex","timeRegexSource","args","regex","timeRegex","datetimeRegex","opts","isValidIP","ip","version","isValidJWT","jwt","alg","header","base64","decoded","isValidCidr","ZodString","tooBig","tooSmall","validation","minLength","maxLength","len","ch","min","max","floatSafeRemainder","step","valDecCount","stepDecCount","decCount","valInt","stepInt","ZodNumber","inclusive","ZodBigInt","ZodBoolean","ZodDate","minDate","maxDate","ZodSymbol","ZodUndefined","ZodNull","ZodAny","ZodUnknown","ZodNever","ZodVoid","schema","deepPartialify","ZodObject","newShape","fieldSchema","ZodTuple","shape","shapeKeys","extraKeys","keyValidator","unknownKeys","catchall","defaultError","augmentation","merging","mask","newField","createZodEnum","handleResults","unionErrors","childCtx","dirty","types","getDiscriminator","type","ZodLazy","ZodLiteral","ZodEnum","ZodNativeEnum","ZodDiscriminatedUnion","discriminator","discriminatorValue","optionsMap","discriminatorValues","mergeValues","a","b","aType","bType","bKeys","sharedKeys","newObj","sharedValue","newArray","itemA","itemB","handleParsed","parsedLeft","parsedRight","merged","left","right","itemIndex","rest","schemas","ZodRecord","keyType","valueType","third","ZodMap","finalMap","ZodSet","finalizeSet","elements","parsedSet","element","minSize","maxSize","size","ZodFunction","makeArgsIssue","makeReturnsIssue","returns","fn","me","parsedArgs","parsedReturns","returnType","func","getter","values","expectedValues","enumValues","newDef","opt","nativeEnumValues","promisified","effect","checkCtx","arg","processed","executeRefinement","acc","inner","base","preprocess","newCtx","ZodNaN","BRAND","inResult","freeze","cleanParams","p","custom","_params","fatal","r","_fatal","late","instanceOfType","cls","stringType","numberType","nanType","bigIntType","booleanType","dateType","symbolType","undefinedType","nullType","anyType","unknownType","neverType","voidType","arrayType","objectType","strictObjectType","unionType","discriminatedUnionType","intersectionType","tupleType","recordType","mapType","setType","functionType","lazyType","literalType","enumType","nativeEnumType","promiseType","effectsType","optionalType","nullableType","preprocessType","pipelineType","ostring","onumber","oboolean","coerce","NEVER","z","BuildStatusSchema","BuildCheck","buildId","endpoint","buildStatusQuery","useQuery","res","isCompleted","jsxs","CircleFadingArrowUpIcon","LoaderCircleIcon","Button","useScrollToTop","location","useLocation","previousPath","useRef","useEffect","isNewPage","hasAnchor","SocialIcon","icon","isExternalUrl","href","Footer","useZudoku","footer","cn","Slotlet","column","link","className","ExternalLinkIcon","AnchorLink","Fragment","social","Skeleton","COLOR_MAP","Banner","isBannerOpen","setIsBannerOpen","useState","mappedColor","style","CircleXIcon","ZudokuLogo","PoweredByZudoku","ChevronRightIcon","detectOS","userAgent","Search","isOpen","setIsOpen","onClose","useCallback","onKeyDown","searchPlugin","isSearchPlugin","SearchIcon","ClientOnly","KbdShortcut","Suspense","os","ThemeSwitch","resolvedTheme","setTheme","useTheme","SunIcon","MoonIcon","_extends","n","c","d","g","h","l","q","t","v","w","y","u","A","reactIs_production_min","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","isValidElementType","typeOf","$$typeof","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","reactIs_development","reactIsModule","require$$0","require$$1","reactIs","REACT_STATICS","KNOWN_STATICS","FORWARD_REF_STATICS","MEMO_STATICS","TYPE_STATICS","getStatics","component","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","hoistNonReactStatics_cjs","clamp","num","lower","upper","createQueue","isRunning","pending","_next","cb","clear","enqueue","createTimeout","handle","cancel","schedule","callback","delay","deltaTime","start","_frame","time","increment","progress","amount","useEffectOnce","incrementParameter","useUpdate","_useState","setState","useGetSetState","initialState","update","get","set","patch","useFirstMountState","isFirst","useUpdateEffect","deps","isFirstMount","useNProgress","_temp","_ref","_ref$animationDuratio","animationDuration","_ref$incrementDuratio","incrementDuration","_ref$isAnimating","isAnimating","_ref$minimum","minimum","_useGetSetState","queue","timeout","cleanup","_timeout$current","_queue$current","_queue$current4","_queue$current2","_queue$current3","next","_timeout$current2","_timeout$current3","trickle","_work","_queue$current5","_timeout$current4","savedTrickle","sideEffect","isHiddenItem","isAuthenticated","PageProgress","isNavigating","useNavigation","setIsAnimating","timer","isFinished","TopNavigation","topNavigation","useAuth","filteredItems","TopNavItem","id","label","defaultLink","sidebars","currentSidebar","currentNav","useCurrentNavigation","isActive","traverseSidebar","joinUrl","NavLink","isPending","cx","MobileTopNavigation","drawerOpen","setDrawerOpen","Drawer","open","DrawerTrigger","MenuIcon","DrawerContent","VisuallyHidden","DrawerTitle","RecursiveMenu","DropdownMenuSub","DropdownMenuSubTrigger","DropdownMenuPortal","DropdownMenuSubContent","Link","DropdownMenuItem","Header","memo","auth","profile","isAuthEnabled","plugins","accountItems","isProfileMenuPlugin","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","DropdownMenuLabel","DropdownMenuSeparator","shouldScaleBackground","DrawerPrimitive","DrawerPortal","DrawerOverlay","ref","hideBar","DrawerDescription","SidebarWrapper","navRef","active","scrollIntoViewIfNeeded","Sidebar","onRequestClose","sidebar","SidebarItem","Main","isDrawerOpen","hasSidebar","PanelLeftIcon","LoadingFallback","Spinner","Layout","authentication","useScrollToAnchor","Helmet","Outlet","ErrorPage","title","category","ProseClasses","CategoryHeading","Heading","getDefaultContent","statusCode","StatusPage","defaultContent","ErrorBoundaryContext","ErrorBoundary","Component","_this$props$onReset","_this$props","_len","_key","info","_this$props$onError","_this$props2","prevProps","prevState","didCatch","resetKeys","hasArrayChanged","_this$props$onReset2","_this$props3","fallbackRender","FallbackComponent","fallback","childToRender","createElement","createNanoEvents","callbacks","length","ZudokuContext","__publicField","needsInitialization","plugin","isApiIdentityPlugin","joinPath","nav","request","isNavigationPlugin","isEventConsumerPlugin","objectEntries","handler","useAuthState","TopLevelError","resetErrorBoundary","root","DEFAULT_COMPONENTS","ComponentsContext","ComponentsProvider","RouterEventsEmitter","zudoku","previousLocation","ZudokuProvider","useSuspenseQuery","ZudokuReactContext","zudokuContext","ZudokoInner","useMemo","mdxComponents","isMdxProviderPlugin","MdxComponents","stagger","useContext","didNavigate","setDidNavigate","staggeredValue","navigation","heads","hasHead","entry","ThemeProvider","SlotletProvider","ViewportAnchorProvider","Zudoku","useMDXComponentsImport","LayoutImport","RouterError","RouterErrorImport","ServerErrorImport","BootstrapImport","BootstrapStaticImport","RouteGuard","RouteGuardImport","Head","useZudokuImport","useAuthImport","useCache","useCacheImport","CACHE_KEYS","CACHE_KEYS_IMPORT","ZudokuImport","StatusPageImport","Callout","CalloutImport","Markdown","MarkdownImport","SpinnerImport","ClientOnlyImport","ButtonImport","LinkImport","useThemeImport","BuildCheckImport"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,8,11,22,23,24,25,26,27,38,39]}